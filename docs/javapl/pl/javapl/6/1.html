<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>INTUIT.ru::Интернет-Университет Информационных Технологий</title>
<link rel="shortcut icon" href="http://www.intuit.ru/favicon.ico">


<META http-equiv="Pragma" CONTENT="no-cache">
<META http-equiv="Cache-Control" CONTENT="no-cache, must-revalidate">
<META NAME="Pragma" CONTENT="no-cache">
<META NAME="Cache-Control" CONTENT="no-cache">
<link href="../../../ssi/style.css" type="text/css" rel="stylesheet">
</head>
<body leftmargin="0" topmargin="6" marginheight="6" marginwidth="0" bgcolor="white">

<!-- header -->
<!---->
<table border="0" cellpadding="8" cellspacing="0" width="100%">
<tr valign="top">
<td><a href="http://www.intuit.ru/"><img src="../../../img/logo.gif" border="0" width="285" height="52" alt="Интернет Университет информационных технологий"></a></td>
<!---->
</tr>
</table>

<!-- /header -->

<!-- /menu -->
<table border="0" cellpadding="" cellspacing="6" width="100%">
<tr>
<td align="center" class="menu">
	<table border="0" cellpadding="0" cellspacing="0" background="" height="31">
	<tr>
	<td><a href="http://www.intuit.ru/speciality/" class="menu">Учебные программы</a></td>
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_departments.html" class="menu">Кафедры</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_courses.html" class="menu">Все курсы</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/syllabus.html" class="menu">Расписание</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/shop/" class="menu">Учебники</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/news.html" class="menu">Новости</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/department/forum/" class="menu">Форум</a></td>
<!--
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/help/" class="menu">Помощь</a></td>		
-->
	</tr>
	</table>	

</td>
</tr>
</table>
<!-- /menu -->


<table border="0" cellpadding="0" cellspacing="0" width="100%" height="73">
<tr valign="top">
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- leftcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">

		<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Лекции</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>

		<td colspan=3>
<a href="../index.html" class="spec">Программирование на Java</a>


</td>
		</tr>
<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">1.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../1/1.html" class="llecture">Что такое Java? История создания</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">2.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../2/1.html" class="llecture">Основы объектно-ориентированного...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">3.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../3/1.html" class="llecture">Лексика языка</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">4.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../4/1.html" class="llecture">Типы данных</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">5.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../5/1.html" class="llecture">Имена. Пакеты</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">6.</td>
		<td>&nbsp;</td>
<td class="llecture">

Объявление классов



</td>
		</tr>




		<tr valign=top>

		<td class="llecture">7.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../7/1.html" class="llecture">Преобразование типов</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">8.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../8/1.html" class="llecture">Объектная модель в Java</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">9.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../9/1.html" class="llecture">Массивы</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">10.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../10/1.html" class="llecture">Операторы и структура кода. Искл...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">11.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../11/1.html" class="llecture">Пакет java.awt</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">12.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../12/1.html" class="llecture">Потоки выполнения. Синхронизация</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">13.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../13/1.html" class="llecture">Пакет java.lang</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">14.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../14/1.html" class="llecture">Пакет java.util</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">15.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../15/1.html" class="llecture">Пакет java.io</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">16.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../16/1.html" class="llecture">Введение в сетевые протоколы</a>
</td>
		</tr>






<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="http://www.intuit.ru/department/pl/javapl/class/examination/" class="llecture">Экзамен</a></td>
		</tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a class="llecture_red" href="http://www.intuit.ru/department/pl/javapl/class/examination_extern/">Сдать экзамен экстерном</a></td>
		</tr>

<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../lit.html" class="llecture">Литература</a></td>
		</tr>





		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../keywords.html" class="llecture">Предметный указатель</a></td>
		</tr>



		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../examples.html" class="llecture">Примеры</a></td>
		</tr>


		</table><br>
	</td>
	</tr>


	

	<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Общение</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/classmates/" class="spec">однокурсники</a></td>
		</tr>
		

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/forum/" class="spec">форум по курсу</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/question_for_lector/" class="spec">вопрос преподавателю</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/opinions/" class="spec">мнения о курсе</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/rating/" class="spec">рейтинг выпускников</a></td>
		</tr>


		</table><br>
	</td>
	</tr>



<tr><td height="1"><a href="../robot.html"><img src="../../../img/empty.gif" width="1" height="1" border="0"></a></td></tr>

	</table>

	<!-- #include virtual="~/inc/leftcolumn.html" -->
	<!-- /leftcolumn -->	
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td>
	<!-- content -->
	<table border="0" cellpadding="0" cellspacing="0" width="100%">
	<tr><td class="head" colspan=2>Программирование на Java</td></tr>
<tr><td colspan=2 height="4"><img src="../../../img/empty.gif" width="1" height="4"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>




<tr>
<td colspan="2" align=left class="headsub">Лекция #6: Объявление классов</td>
</tr>

<tr><td height="6" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>


<tr>

<td align=left><font class="rtitle">Страницы:</font>


<font class="rtitle">1</font>

<font class="stitle">|</font>


<a class="rtitle" href="2.html">2</a>
<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>


<a class="rtitle" href="4.html">4</a>
<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/6/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="2.html"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/6/javapl_6.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>


	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/6/1.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2>
<h3 >Введение</h3>
        
        <p >
Объявление классов является центральной темой курса, поскольку любая
программа на Java – это набор классов. Поскольку типы являются ключевой
конструкцией языка, их структура довольно сложна, имеет много
тонкостей. Поэтому данная тема разделена на две лекции. </p>
        <p >
Эта лекция начинается с продолжения темы прошлой лекции – имена и
доступ к именованным элементам языка. Необходимо рассмотреть механизм
разграничения доступа в Java, как он устроен, для чего применяется.
Затем будут описаны ключевые правила объявления классов. </p>
        <p >
Следующая лекция подробно рассматривает особенности объектной модели
Java. Вводится понятие интерфейса. Уточняются правила объявления
классов и описывается объявление интерфейса. </p>
    <h3 >Модификаторы доступа</h3>
        
        <p >
Во многих языках существуют права доступа, которые ограничивают
возможность использования, например, переменной в классе. Например,
легко представить два крайних вида прав доступа: это <span class="texample">public</span>, 
когда поле доступно из любой точки программы, и <span class="texample">private</span>, 
когда поле может использоваться только внутри того класса, в котором оно 
объявлено. 
</p>
        <p >
Однако прежде, чем переходить к подробному рассмотрению этих и других
модификаторов доступа, необходимо внимательно разобраться, зачем они
вообще нужны. </p>
        <h4 >Предназначение модификаторов доступа</h4>
            
            <p >
Очень часто права доступа расцениваются как некий элемент безопасности
кода: мол, необходимо защищать классы от "неправильного" использования.
Например, если в классе <span class="texample">Human</span>
(человек) есть поле age (возраст человека), то какой-нибудь программист
намеренно или по незнанию может присвоить этому полю отрицательное
значение, после чего объект станет работать неправильно, могут
появиться ошибки. Для защиты такого поля age необходимо объявить его
private. </p>
            <p >
Это довольно распространенная точка зрения, однако нужно признать, что
она далека от истины. Основным смыслом разграничения прав доступа
является обеспечение неотъемлемого свойства объектной модели –
инкапсуляции, то есть сокрытия реализации. Исправим пример таким
образом, чтобы он корректно отражал предназначение модификаторов
доступа. Итак, пусть в классе <span class="texample">Human</span> есть поле <span class="texample">age</span>
целочисленного типа, и чтобы все желающие могли пользоваться этим полем, 
оно объявляется <span class="texample">public</span>. 
</p>
            <div  class="example"><pre>
public class Human {
   public int age;
} 
</pre></div>
            <p >
Проходит время, и если в группу программистов, работающих над системой,
входят десятки разработчиков, логично предположить, что все, или
многие, из них начнут использовать это поле. </p>
            <p >
Может получиться так, что целочисленного типа данных будет уже
недостаточно и захочется сменить тип поля на дробный. Однако если
просто изменить <span class="texample">int</span> на <span class="texample">double</span>, вскоре все разработчики, 
которые пользовались классом <span class="texample">Human</span> и его полем 
<span class="texample">age</span>, обнаружат, что в их коде появились ошибки, 
потому что поле вдруг стало дробным, и в строках, подобных этим: 
</p>
            <div  class="example"><pre>
Human h = getHuman();   // получаем ссылку
int i=h.age;   // ошибка!! 
</pre></div>
            <p >
будет возникать ошибка из-за попытки провести неявным образом сужение примитивного типа. 
</p>
            <p >
Получается, что подобное изменение (в общем, небольшое и локальное)
потребует модификации многих и многих классов. Поэтому внесение его
окажется недопустимым, неоправданным с точки зрения количества усилий,
которые необходимо затратить. То есть, объявив один раз поле 
или <span class="keyword">метод</span>
как <span class="texample">public</span>,
можно оказаться в ситуации, когда малейшие изменения (имени, типа,
характеристик, правил использования) в дальнейшем станут невозможны. </p>
            <p >
Напротив, если бы поле было объявлено как <span class="texample">private</span>, а для чтения и изменения его значения были бы 
введены дополнительные <span class="keyword">методы</span>, ситуация поменялась бы в корне: 
</p>
            <div  class="example"><pre>
public class Human {
   private int age;
   // метод, возвращающий значение age
   public int getAge() {
      return age;
   }
   // метод, устанавливающий значение age 
   public void setAge(int a) {
      age=a;
   }
} 
</pre></div>
            <p >
В этом случае с данным классом могло бы работать множество
программистов и могло быть создано большое количество классов,
использующих тип <span class="texample">Human</span>, но модификатор <span class="texample">private</span>
дает гарантию, что никто напрямую этим полем не пользуется и изменение
его типа было бы совсем несложной операцией, связанной с изменением
только в одном классе. </p>
            <p >
Получение величины возраста выглядело бы следующим образом: 
</p>
            <div  class="example"><pre> 
Human h = getHuman();
int i=h.getAge();   // обращение через метод 
</pre></div>
            <p >
Рассмотрим, как выглядит процесс смены типа поля <span class="texample">age</span>: 
</p>
            <div  class="example"><pre>
public class Human {

   // поле получает новый тип double
   private /*int*/ double age;

   // старые методы работают с округлением 
   // значения
   
   public int getAge() {
      return (int)Math.round(age);
   }
   public void setAge(int a) {
      age=a;
   }
   // добавляются новые методы для работы 
   // с типом double
   
   public double getExactAge() {
      return age;
   }
   public void setExactAge(double a) {
   age=a;
   }
}
</pre></div>
            <p >
Видно, что старые <span class="keyword">методы</span>, которые, возможно, уже применяются во многих
местах, остались без изменения. Точнее, остался без изменений их
внешний формат, а внутренняя реализация усложнилась. Но такая перемена
не потребует никаких модификаций остальных классов системы. Пример
использования </p>
            <div  class="example"><pre>
Human h = getHuman();
int i=h.getAge();   // корректно
</pre></div>
            <p >
остается верным, переменная <span class="texample">i</span>
получает корректное целое значение. Однако изменения вводились для
того, чтобы можно было работать с дробными величинами. Для этого были
добавлены новые <span class="keyword">методы</span> и во всех местах, где требуется точное значение
возраста, необходимо обращаться к ним: </p>
            <div  class="example"><pre>
Human h = getHuman();
double d=h.getExactAge();   
   // точное значение возраста
</pre></div>
            <p >
Итак, в класс была добавлена новая возможность, не потребовавшая никаких изменений кода. 
</p>
            <p >
За счет чего была достигнута такая гибкость? Необходимо выделить
свойства объекта, которые потребуются будущим пользователям этого
класса, и сделать их доступными (в данном случае, <span class="texample">public</span>).
Те же элементы класса, что содержат детали внутренней реализации логики
класса, желательно скрывать, чтобы не образовались нежелательные
зависимости, которые могут сдерживать развитие системы. </p>
            <p >
Этот пример одновременно иллюстрирует и другое теоретическое правило
написания объектов, а именно: в большинстве случаев доступ к полям
лучше реализовывать через специальные <span class="keyword">методы</span> (accessors) для чтения
(getters) и записи (setters). То есть само поле рассматривается как
деталь внутренней реализации. Действительно, если рассматривать внешний
интерфейс объекта как целиком состоящий из допустимых действий, то
доступными элементами должны быть только <span class="keyword">методы</span>, реализующие эти
действия. Один из случаев, в котором такой подход приносит необходимую
гибкость, уже рассмотрен. </p>
            <p >
Есть и другие соображения. Например, вернемся к вопросу о корректном
использовании объекта и установки верных значений полей. Как следствие,
правильное разграничение доступа позволяет ввести механизмы проверки
входных значений: </p>
            <div  class="example"><pre>
public void setAge(int a) {
   if (a&gt;=0) {
      age=a;
   }
} 
</pre></div>
            <p >
В этом примере поле <span class="texample">age</span> никогда не
примет некорректное отрицательное значение. (Недостатком приведенного
примера является то, что в случае неправильных входных данных они
просто игнорируются, нет никаких сообщений, позволяющих узнать, что
изменения поля возраста на самом деле не произошло; для полноценной
реализации <span class="keyword">метода</span> необходимо освоить работу с ошибками в Java.) </p>
            <p >
Бывают и более существенные изменения логики класса. Например, данные
можно начать хранить не в полях класса, а в более надежном хранилище,
например, файловой системе или базе данных. В этом случае
<span class="keyword">методы</span>-аксессоры опять изменят свою реализацию и начнут обращаться к
persistent storage (постоянное хранилище, например, БД) для
чтения/записи значений. Если доступа к полям класса не было, а
открытыми были только <span class="keyword">методы</span> для работы с их значениями, то можно
изменить код этих <span class="keyword">методов</span>, а наружные типы, которые использовали данный
класс, совершенно не изменятся, логика их работы останется той же. </p>
            <p >
Подведем итоги. Функциональность класса необходимо разделять на
открытый интерфейс, описывающий действия, которые будут использовать
внешние типы, и на внутреннюю реализацию, которая применяется только
внутри самого класса. Внешний интерфейс в дальнейшем модифицировать
невозможно, или очень сложно, для больших систем, поэтому его требуется
продумывать особенно тщательно. Детали внутренней реализации могут быть
изменены на любом этапе, если они не меняют логику работы всего класса.
Благодаря такому подходу реализуется одна из базовых характеристик
объектной модели — инкапсуляция, и обеспечивается важное преимущество
технологии ООП — модульность. </p>
            <p >
Таким образом, модификаторы доступа вводятся не для защиты типа от
внешнего пользователя, а, напротив, для защиты, или избавления,
пользователя от излишних зависимостей от деталей внутренней реализации.
Что же касается неправильного применения класса, то его создателям
нужно стремиться к тому, чтобы класс был прост в применении, тогда
таких проблем не возникнет, ведь программист не станет намеренно писать
код, который порождает ошибки в его программе. </p>
            <p >
Конечно, такое разбиение на внешний интерфейс и внутреннюю реализацию
не всегда очевидно, часто условно. Для облегчения задачи технических
дизайнеров классов в Java введено не два (<span class="texample">public</span> и <span class="texample">private</span>), а четыре уровня доступа. Рассмотрим их и весь механизм разграничения доступа в Java более подробно. 
</p>
        
        <h4 >Разграничение доступа в Java</h4>
            
            <p >
Уровень доступа элемента языка является статическим свойством, задается
на уровне кода и всегда проверяется во время компиляции. Попытка
обратиться к закрытому элементу вызовет ошибку. </p>
            <p >
В Java модификаторы доступа указываются для: 
</p>
            <ul >
                <li>типов (классов и интерфейсов) объявления верхнего уровня;</li>
                <li>элементов ссылочных типов (полей, <span class="keyword">методов</span>, внутренних типов);</li>
                <li>конструкторов классов.</li>
            </ul>
            <p >
Как следствие, массив также может быть недоступен в том случае, если недоступен тип, на основе которого он объявлен. 
</p>
            <p >
Все четыре уровня доступа имеют только элементы типов и конструкторы. Это: 
</p>
            <ul >
                <li>public;</li>
                <li>private;</li>
                <li>protected;</li>
                <li>если не указан ни один из этих трех типов, то уровень доступа определяется по умолчанию (default).</li>
            </ul>
            <p >
Первые два из них уже были рассмотрены. Последний уровень (доступ по
умолчанию) упоминался в прошлой лекции – он допускает обращения из того
же пакета, где объявлен и сам этот класс. По этой причине пакеты в Java
являются не просто набором типов, а более структурированной единицей,
так как типы внутри одного пакета могут больше взаимодействовать друг с
другом, чем с типами из других пакетов. </p>
            <p >
Наконец, <span class="texample">protected</span> дает доступ
наследникам класса. Понятно, что наследникам может потребоваться доступ
к некоторым элементам родителя, с которыми не приходится иметь дело
внешним классам. </p>
            <p >
Однако описанная структура не позволяет упорядочить модификаторы
доступа так, чтобы каждый следующий строго расширял предыдущий.
Модификатор <span class="texample">protected</span>
может быть указан для наследника из другого пакета, а доступ по
умолчанию допускает обращения из классов-ненаследников, если они
находятся в том же пакете. По этой причине возможности protected были
расширены таким образом, что он включает в себя доступ внутри пакета.
Итак, модификаторы доступа упорядочиваются следующим образом (от менее
открытых – к более открытым): </p>
            <div  class="example"><pre>
private
(none) default
protected
public 
</pre></div>
            <p >
Эта последовательность будет использована далее при изучении деталей наследования классов. 
</p>
            <p >
Теперь рассмотрим, какие модификаторы доступа возможны для различных элементов языка. 
</p>
            <ul >
                <li>Пакеты доступны всегда, поэтому у них нет модификаторов доступа 
(можно сказать, что все они <span class="texample">public</span>, то есть любой существующий 
в системе пакет может использоваться из любой точки программы).</li>
                <li>Типы (классы и интерфейсы) верхнего уровня объявления. 
При их объявлении существует всего две возможности: указать 
модификатор <span class="texample">public</span> или не указывать его. Если доступ к 
типу является <span class="texample">public</span>, то это означает, что он доступен 
из любой точки кода. Если же он не <span class="texample">public</span>, то уровень 
доступа назначается по умолчанию: тип доступен только внутри того пакета, 
где он объявлен.</li>
                <li>Массив имеет тот же уровень доступа, что и тип, на основе
которого он объявлен (естественно, все примитивные типы являются
полностью доступными). </li>
                <li>Элементы и конструкторы объектных типов. Обладают всеми
четырьмя возможными значениями уровня доступа. Все элементы интерфейсов
являются <span class="texample">public</span>.</li>
            </ul>
            <p >
Для типов объявления верхнего уровня нет необходимости во всех четырех уровнях доступа. <span class="texample">Private</span>-типы
образовывали бы закрытую мини-программу, никто не мог бы их
использовать. Типы, доступные только для наследников, также не были
признаны полезными. </p>
            <p >
Разграничения доступа сказываются не только на обращении к элементам
объектных типов или пакетов (через составное имя или прямое обращение),
но также при вызове конструкторов, наследовании, приведении типов.
Импортировать недоступные типы запрещается. </p>
            <p >
Проверка уровня доступа проводится компилятором. Обратите внимание на следующие примеры: 
</p>
            <div  class="example"><pre>
public class Wheel {
   private double radius;
   public double getRadius() {
      return radius;
   }
} 
</pre></div>
            <p >
Значение поля <span class="texample">radius</span> недоступно снаружи класса, однако открытый <span class="keyword">метод</span>
                <span class="texample">getRadius()</span> корректно возвращает его. 
</p>
            <p >
Рассмотрим следующие два модуля компиляции: 
</p>
            <div  class="example"><pre>
package first;

// Некоторый класс Parent
public class Parent {
}

package first;

// Класс Child наследуется от класса Parent,
// но имеет ограничение доступа по умолчанию
class Child extends Parent {
}

public class Provider {
   public Parent getValue() {
      return new Child();
   }
} 
</pre></div>
            <p >
К <span class="keyword">методу</span>
                <span class="texample">getValue()</span> класса <span class="texample">Provider</span> можно обратиться и из другого пакета, не только из пакета <span class="texample">first</span>, поскольку <span class="keyword">метод</span> объявлен как <span class="texample">public</span>. Данный <span class="keyword">метод</span> возвращает экземпляр класса <span class="texample">Child</span>, который недоступен из других пакетов. Однако следующий вызов является корректным: 
</p>
            <div  class="example"><pre> 
package second;

import first.*;

public class Test {
  public static void main(String s[]) 
  {
   Provider pr = new Provider();
   Parent p = pr.getValue();
   System.out.println(p.getClass().getName());
   // (Child)p - приведет к ошибке компиляции!
  }
} 
</pre></div>
            <p >
Результатом будет: 
</p>
            <div  class="example"><pre>
first.Child 
</pre></div>
            <p >
То есть на самом деле в классе <span class="texample">Test</span> работа идет с экземпляром недоступного класса <span class="texample">Child</span>, что возможно, поскольку обращение к нему делается через открытый класс <span class="texample">Parent</span>.
Попытка же выполнить явное приведение вызовет ошибку. Да, тип объекта
"угадан" верно, но доступ к закрытому типу всегда запрещен. </p>
            <p >
Следующий пример: 
</p>
            <div  class="example"><pre>
public class Point {
  private int x, y;

  public boolean equals(Object o) {
    if (o instanceof Point) {
      Point p = (Point)o;
      return p.x==x &amp;&amp; p.y==y;
    }
    return false;
  }
}
</pre></div>
            <p > 
В этом примере объявляется класс <span class="texample">Point</span> с двумя полями, описывающими координаты точки. Обратите внимание, что поля полностью закрыты – <span class="texample">private</span>. Далее попытаемся переопределить стандартный <span class="keyword">метод</span>
                <span class="texample">equals()</span> таким образом, чтобы для аргументов, являющихся экземплярами класса <span class="texample">Point</span>, или его наследников (логика работы оператора <span class="texample">intsanceof</span>),
в случае равенства координат возвращалось истинное значение. Обратите
внимание на строку, где делается сравнение координат,– для этого
приходится обращаться к <span class="texample">private</span>-полям другого объекта!
</p>
            <p >
Тем не менее, такое действие корректно, поскольку <span class="texample">private</span> допускает обращения из любой точки класса, независимо от того, к какому именно объекту оно производится. 
</p>
            <p >
Другие примеры разграничения доступа в Java будут рассматриваться по ходу курса. 
</p>
        


    
	</td>		
	</tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2 align="center">

<a href="2.html" class="attention">Перейти к следующей странице &raquo;</b></a>

	</td></tr>
	<tr><td height="16" colspan=2><img src="../../../img/empty.gif" width="1" height="16"></td></tr>

<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/6/1.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr>

<td align=left><font class="rtitle">Страницы:</font>


<font class="rtitle">1</font>

<font class="stitle">|</font>


<a class="rtitle" href="2.html">2</a>
<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>


<a class="rtitle" href="4.html">4</a>
<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/6/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="2.html"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/6/javapl_6.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	</table>
	<!-- /content -->

</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- rightcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">
	<!---->


<!--Основные понятия-->
	<td class="bordo" height="24">&nbsp;&nbsp;Ключевые слова</td>
	</tr>
	<tr>
	<td><span class="rtxt"><span  class="keyword_list">метод</span><br ><br ><a  class="allnews" href="../keywords.html">все ключевые слова »</a>
</td>
	</tr>
	<tr><td>&nbsp;</td></tr>
<!--/Основные понятия-->

		<tr><td class="bordo" height="24">&nbsp;&nbsp;Информация о лекции</td></tr>
	<tr>
	<td>
<span class="rtxt">Центральная тема лекции – объявление классов, поскольку любое Java-приложение является набором классов.<br>
Первый рассматриваемый вопрос – система разграничения доступа в Java. Описывается, зачем вообще нужно управление доступом в ОО-языке программирования и как оно осуществляется в Java. Затем подробно рассматривается структура объявления заголовка класса и его тела, которое состоит из элементов (полей и методов), конструкторов и инициализаторов. Дополнительно описывается сигнатура метода main, с которого начинается работа Java-приложения, правила передачи параметров различных типов в методы, перегруженные методы.

	</td>
	</tr>
	<tr><td>&nbsp;</td></tr>

	

	
	<td class="bordo" height="24">&nbsp;&nbsp;Учебники к курсу</td>
	</tr>
	<tr>
<td>

		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td>

<table border="0" cellpadding="1" cellspacing="0"  align="left" hspace="5" vspace="2"><tr><td class="orang"><table border="0" cellpadding="2" cellspacing="0" bgcolor="#ffffff"><tr><td valign="middle" align="center"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325"><img width="72" height="105" src="../../../img/covers/i/in/int/intu006.jpg" alt="Программирование на Java" border="0"></a></td></tr></table></td></tr></table>

<a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325" class="spectitle">
Программирование на Java</a>
<br>
<font class="spectxt">
Вязовик Н.А.,
<br>
Интернет-университет информационных технологий - ИНТУИТ.ру.
<br>
Курс лекций посвящен современному и мощному языку программирования Java. В его рамках дается вводное изложение принципов ООП, необходимое для разработки на Java, основы языка, библиотеки для работы с файлами, сетью, для построения оконного интерфейса пользователя (GUI) и др.

</font>
		</td>
		</tr>

		</table>

</td>
	</tr>


	<tr><td height="10"><img src="../../../img/empty.gif" width="1" height="10"></td></tr>



	<tr>
<td>
		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td class="spectxt">
<span class="spectitle"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=1412049" class="spectitle">Приемы объектно-ориентированного проектирования. Паттерны проектирования</a></span>
<br>
Гамма Э. и др.,
Питер.
		</td>
		</tr>


		</table>

</td>
	</tr>


<tr>
<td><a href="http://www.intuit.ru/cgi-bin/goto.fcgi?mode=books_of_course&cid=57" class="allnews">все книги по курсу &raquo;</a></td>
</tr>



	</table>
	<!-- /rightcolumn -->
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
</tr>
</table>

<!-- /bottom -->
<table border="0" cellpadding="0" cellspacing="6" width="100%" height="73">
<tr>
<td align="center" class="menu">
    <table border="0" cellpadding="0" cellspacing="0" background="">
    <tr>
    <td class="copy">
    <a href="http://www.intuit.ru/all_departments.html" class="bot">Кафедры</a> |
    <a href="http://www.intuit.ru/all_courses.html" class="bot">Все курсы</a> |
    <a href="http://www.intuit.ru/syllabus.html" class="bot">Расписание</a> |
    <a href="http://www.intuit.ru/shop/catalog/index.html?" class="bot">Учебники</a> | 
    <a href="http://www.intuit.ru/news.html" class="bot">Новости</a> | 
    <a href="http://www.intuit.ru/department/forum/" class="bot">Форум</a>
    <br>
    <a href="http://www.intuit.ru/user/classes/" class="bot">Мои курсы</a> | 
    <a href="http://www.intuit.ru/user/adjustments/" class="bot">Личные настройки</a> | 
    <a href="http://www.intuit.ru/user/cart/" class="bot">Корзина</a> | 
    <a href="http://www.intuit.ru/help/" class="bot">Помощь</a><br><br>
    Телефон: (095) 253-9312, 253-9313, факс: (095) 253-9310, email: <a href="http://www.intuit.ru/help/askform.xhtml" class="bot">info@intuit.ru</a><br>
    Адрес: 123056 Москва, Электрический пер., 8, стр. 3<br>
    &copy; 2003-2004 INTUIT.ru. Все права защищены.
    </td>
    </tr>
    </table>
</td>
</tr>
</table>
<!-- /bottom -->


</body>
</html>
