<html xmlns="http://www.w3.org/TR/xhtml1/strict"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>INTUIT.ru::Интернет-Университет Информационных Технологий</title><link href="/ssi/style.css" type="text/css" rel="stylesheet"></link></head><body leftmargin="10" topmargin="0" marginheight="0" marginwidth="10"><table border="0" cellpadding="0" cellspacing="0" width="100%" height="100%"><tr><td><div class="example"><pre>
try {
   int countRead = 0;
   byte[] toRead = new byte[100];
   PipedInputStream pipeIn = new PipedInputStream();
   PipedOutputStream pipeOut = new PipedOutputStream(pipeIn);

   // Считывать в массив, пока он полностью не будет заполнен
   while(countRead&lt;toRead.length) {

      // Записать в поток некоторое количество байт
      for(int i=0; i&lt;(Math.random()*10); i++) {
         pipeOut.write((byte)(Math.random()*127));
      }

      // Считать из потока доступные данные, 
      // добавить их к уже считанным.
      int willRead = pipeIn.available();
      if(willRead+countRead&gt;toRead.length)

      //Нужно считать только до предела массива
      willRead = toRead.length-countRead;
      countRead += pipeIn.read(toRead, countRead, willRead);
   }
} catch (IOException e) {
   System.out.println ("Impossible IOException occur: ");
   e.printStackTrace();
} 
</pre></div></td></tr><tr><td valign="bottom" align="center" class="objectName"><hr></hr>
            Пример 
            15.3.
            </td></tr><tr><td valign="bottom" align="center"><a href="#" onclick="window.close(); return false;" class="allnews">Закрыть окно</a><br></br><br></br></td></tr></table></body></html>
