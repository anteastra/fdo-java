<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>INTUIT.ru::Интернет-Университет Информационных Технологий</title>
<link rel="shortcut icon" href="http://www.intuit.ru/favicon.ico">


<META http-equiv="Pragma" CONTENT="no-cache">
<META http-equiv="Cache-Control" CONTENT="no-cache, must-revalidate">
<META NAME="Pragma" CONTENT="no-cache">
<META NAME="Cache-Control" CONTENT="no-cache">
<link href="../../../ssi/style.css" type="text/css" rel="stylesheet">
</head>
<body leftmargin="0" topmargin="6" marginheight="6" marginwidth="0" bgcolor="white">

<!-- header -->
<!---->
<table border="0" cellpadding="8" cellspacing="0" width="100%">
<tr valign="top">
<td><a href="http://www.intuit.ru/"><img src="../../../img/logo.gif" border="0" width="285" height="52" alt="Интернет Университет информационных технологий"></a></td>
<!---->
</tr>
</table>

<!-- /header -->

<!-- /menu -->
<table border="0" cellpadding="" cellspacing="6" width="100%">
<tr>
<td align="center" class="menu">
	<table border="0" cellpadding="0" cellspacing="0" background="" height="31">
	<tr>
	<td><a href="http://www.intuit.ru/speciality/" class="menu">Учебные программы</a></td>
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_departments.html" class="menu">Кафедры</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_courses.html" class="menu">Все курсы</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/syllabus.html" class="menu">Расписание</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/shop/" class="menu">Учебники</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/news.html" class="menu">Новости</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/department/forum/" class="menu">Форум</a></td>
<!--
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/help/" class="menu">Помощь</a></td>		
-->
	</tr>
	</table>	

</td>
</tr>
</table>
<!-- /menu -->


<table border="0" cellpadding="0" cellspacing="0" width="100%" height="73">
<tr valign="top">
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- leftcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">

		<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Лекции</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>

		<td colspan=3>
<a href="../index.html" class="spec">Программирование на Java</a>


</td>
		</tr>
<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">1.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../1/1.html" class="llecture">Что такое Java? История создания</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">2.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../2/1.html" class="llecture">Основы объектно-ориентированного...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">3.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../3/1.html" class="llecture">Лексика языка</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">4.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../4/1.html" class="llecture">Типы данных</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">5.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../5/1.html" class="llecture">Имена. Пакеты</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">6.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../6/1.html" class="llecture">Объявление классов</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">7.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../7/1.html" class="llecture">Преобразование типов</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">8.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../8/1.html" class="llecture">Объектная модель в Java</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">9.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../9/1.html" class="llecture">Массивы</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">10.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../10/1.html" class="llecture">Операторы и структура кода. Искл...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">11.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../11/1.html" class="llecture">Пакет java.awt</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">12.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../12/1.html" class="llecture">Потоки выполнения. Синхронизация</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">13.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../13/1.html" class="llecture">Пакет java.lang</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">14.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../14/1.html" class="llecture">Пакет java.util</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">15.</td>
		<td>&nbsp;</td>
<td class="llecture">


<a href="../15/1.html" class="llecture_selected">Пакет java.io</a>


</td>
		</tr>




		<tr valign=top>

		<td class="llecture">16.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../16/1.html" class="llecture">Введение в сетевые протоколы</a>
</td>
		</tr>






<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="http://www.intuit.ru/department/pl/javapl/class/examination/" class="llecture">Экзамен</a></td>
		</tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a class="llecture_red" href="http://www.intuit.ru/department/pl/javapl/class/examination_extern/">Сдать экзамен экстерном</a></td>
		</tr>

<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../lit.html" class="llecture">Литература</a></td>
		</tr>





		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../keywords.html" class="llecture">Предметный указатель</a></td>
		</tr>



		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../examples.html" class="llecture">Примеры</a></td>
		</tr>


		</table><br>
	</td>
	</tr>


	

	<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Общение</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/classmates/" class="spec">однокурсники</a></td>
		</tr>
		

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/forum/" class="spec">форум по курсу</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/question_for_lector/" class="spec">вопрос преподавателю</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/opinions/" class="spec">мнения о курсе</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/rating/" class="spec">рейтинг выпускников</a></td>
		</tr>


		</table><br>
	</td>
	</tr>



<tr><td height="1"><a href="../robot.html"><img src="../../../img/empty.gif" width="1" height="1" border="0"></a></td></tr>

	</table>

	<!-- #include virtual="~/inc/leftcolumn.html" -->
	<!-- /leftcolumn -->	
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td>
	<!-- content -->
	<table border="0" cellpadding="0" cellspacing="0" width="100%">
	<tr><td class="head" colspan=2>Программирование на Java</td></tr>
<tr><td colspan=2 height="4"><img src="../../../img/empty.gif" width="1" height="4"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>




<tr>
<td colspan="2" align=left class="headsub">Лекция #15: <a href="../15/1.html">Пакет java.io</a></td>
</tr>

<tr><td height="6" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>


<tr>

<td align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="3.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>


<a class="rtitle" href="2.html">2</a>
<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>

<font class="rtitle">4</font>

<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/15/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/15/test/"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/15/javapl_15.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>


	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/15/4.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2>


    
    <h3 >Классы Reader и Writer и их наследники</h3>
        
        <p >Рассмотренные классы – наследники <span class="texample">InputStream</span> и <span class="texample">OutputStream</span> – работают с байтовыми данными. Если с их помощью записывать или считывать текст, то сначала необходимо сопоставить каждому символу его числовой код. Такое соответствие называется кодировкой. </p>
        <p >Известно, что Java использует кодировку <span class="texample">Unicode</span>, в которой символы представляются двухбайтовым кодом. Байтовые <span class="keyword">потоки</span> зачастую работают с текстом упрощенно – они просто отбрасывают старший байт каждого символа. В реальных же приложениях могут использовать различные кодировки (даже для русского языка их существует несколько). Поэтому в версии Java 1.1 появился дополнительный набор классов, основывающийся на типах <span class="texample">Reader</span> и <span class="texample">Writer</span>. Их иерархия представлена на <a href="#image.15.2">рис. 15.2</a>. </p>
        <p >Эта иерархия очень схожа с аналогичной для байтовых <span class="keyword">потоков</span>
            <span class="texample">InputStream</span> и <span class="texample">OutputStream</span>. Главное отличие между ними – <span class="texample">Reader</span> и <span class="texample">Writer</span> работают с <span class="keyword">потоком</span> символов (<span class="texample">char</span>). Только, чтение массива символов в <span class="texample">Reader</span> описывается методом <span class="texample">read(char[])</span>, а запись в <span class="texample">Writer</span> – <span class="texample">write(char[])</span>. </p>
        <p >В <a href="">таблице 15.1</a> приведены соответствия классов для байтовых и символьных <span class="keyword">потоков</span>. </p>
        <p  align="center"><a name="image.15.2"></a><img src="15-2.gif" alt="Иерархия классов Reader и Writer." width="511" height="357"><br><b>Рис. 
            15.2.
            </b> Иерархия классов Reader и Writer.</p> 
        <table  border="0" cellpadding="2" cellspacing="1"><caption align="left"><b>
                    Таблица 15.1.
                    Соответствие классов для байтовых и символьных потоков.</b></caption><tr>
                <th bgcolor="#d8d8d8">Байтовый поток</th>
                <th bgcolor="#d8d8d8">Символьный поток</th>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">InputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">Reader</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">OutputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">Writer</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">ByteArrayInputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">CharArrayReader</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">ByteArrayOutputStream </span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">CharArrayWriter </span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">Нет аналога</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">InputStreamReader</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">Нет аналога</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">OutputStreamWriter</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">FileInputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">FileReader</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">FileOutputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">FileWriter</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">FilterInputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">FilterReader </span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">FilterOutputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">FilterWriter</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">BufferedInputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">BufferedReader</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">BufferedOutputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">BufferedWriter</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">PrintStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">PrintWriter</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">DataInputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">Нет аналога</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">DataOutputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">Нет аналога</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">ObjectInputStream </span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">Нет аналога</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">ObjectOutputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">Нет аналога</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">PipedInputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">PipedReader</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">PipedOutputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">PipedWriter</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">StringBufferInputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">StringReader</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">Нет аналога</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">StringWriter</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">LineNumberInputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">LineNumberReader</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">PushBackInputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">PushBackReader</span>
                </td>
            </tr><tr>
                <td bgcolor="#eaeaea">
                    <span class="texample">SequenceInputStream</span>
                </td>
                <td bgcolor="#eaeaea">
                    <span class="texample">Нет аналога</span>
                </td>
            </tr></table>
        <p >Как видно из таблицы, различия крайне незначительны и предсказуемы. </p>
        <p >Например, конечно же, отсутствует преобразование в символьное представление примитивных типов Java и объектов (<span class="texample">DataInput/Output</span>, <span class="texample">ObjectInput/Output</span>). Добавлены классы-мосты, преобразующие символьные <span class="keyword">потоки</span> в байтовые: <span class="texample">InputStreamReader</span> и <span class="texample">OutputStreamWriter</span> . Именно на их основе реализованы <span class="texample">FileReader</span> и <span class="texample">FileWriter</span>. Метод <span class="texample">available()</span> класса <span class="texample">InputStream</span> в классе <span class="texample">Reader</span> отсутствует, он заменен методом <span class="texample">ready()</span>, возвращающим булевое значение, – готов ли <span class="keyword">поток</span> к считыванию (то есть будет ли считывание произведено без блокирования). </p>
        <p >В остальном же использование символьных <span class="keyword">потоков</span> идентично работе с байтовыми <span class="keyword">потоками</span>. Так, программный код для записи символьных данных в файл будет выглядеть примерно следующим образом: </p>
        <a  name="example.15.15"></a><div  class="example"><span class="objectName">
            Пример 
            15.15.
            
            (<a href="example.15.15.htm" target="_blank" onClick="window.open('example.15.15.htm','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">html</a>,
            <a href="example.15.15.txt" target="_blank" onClick="window.open('example.15.15.txt','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">txt</a>)
            </span></div>
        <p >Классы-мосты <span class="texample">InputStreamReader</span> и <span class="texample">OutputStreamWriter</span> при преобразовании символов также используют некоторую кодировку. Ее можно задать, передав в конструктор в качестве аргумента ее название. Если оно не будет соответствовать никакой из известных кодировок, будет брошено исключение <span class="texample">UnsupportedEncodingException</span>. Вот некоторые из корректных значений этого аргумента (чувствительного к регистру!) для распространенных кодировок: <span class="texample">"Cp1521"</span>, <span class="texample">"UTF-8"</span>, <span class="texample">"8859_1"</span> и т.д. </p>
    <h3 >Класс StreamTokenizer</h3>
        
        <p >Экземпляр <span class="texample">StreamTokenizer</span> создается поверх существующего объекта, либо <span class="texample">InputStream</span>, либо <span class="texample">Reader</span>. Как и <span class="texample">java.util.StringTokenizer</span>, этот класс позволяет разбивать данные на лексемы (token), выделяемые из <span class="keyword">потока</span> по определенным свойствам. Поскольку работа ведется со словами, конструктор, принимающий <span class="texample">InputStream</span>, объявлен как <span class="texample">deprecated</span> (предлагается оборачивать байтовый <span class="keyword">поток</span> классом <span class="texample">InputStreamReader</span> и вызывать второй конструктор). Общий принцип работы такой же, как и у <span class="texample">StringTokenizer</span>, – задаются параметры разбиения, после чего вызывается метод <span class="texample">nextToken()</span>, пока не будет достигнут конец <span class="keyword">потока</span>. Способы задания разбиения у <span class="texample">StreamTokenizer</span> довольно разнообразны, но просты, и поэтому здесь не рассматриваются. </p>
    <h3 >Работа с файловой системой</h3>
        
        <h4 >Класс File</h4>
            
            <p >Если классы <span class="keyword">потоков</span> осуществляют реальную запись и чтение данных, то класс <span class="texample">File</span> – это вспомогательный инструмент, призванный обеспечить работу с файлами и каталогами. </p>
            <p >Объект класса <span class="texample">File</span> является абстрактным представлением файла и пути к нему. Он устанавливает только соответствие с ним, при этом для создания объекта неважно, существует ли такой файл на диске. После создания можно выполнить проверку, вызвав метод <span class="texample">exists</span>, который возвращает значение <span class="texample">true</span>, если файл существует. Создание или удаление объекта класса <span class="texample">File</span> никоим образом не отображается на реальных файлах. Для работы с содержимым файла можно получить экземпляры <span class="texample">FileI/OStream</span>. </p>
            <p >Объект <span class="texample">File</span> может указывать на каталог (узнать это можно путем вызова метода <span class="texample">isDirectory</span>). Метод <span class="texample">list</span> возвращает список имен (массив <span class="texample">String</span>) содержащихся в нем файлов (если объект <span class="texample">File</span> не указывает на каталог – будет возвращен <span class="texample">null</span>). </p>
            <p >Следующий пример демонстрирует использование объектов класса <span class="texample">File</span>: </p>
            <a  name="example.15.16"></a><div  class="example"><span class="objectName">
            Пример 
            15.16.
            
            (<a href="example.15.16.htm" target="_blank" onClick="window.open('example.15.16.htm','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">html</a>,
            <a href="example.15.16.txt" target="_blank" onClick="window.open('example.15.16.txt','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">txt</a>)
            </span></div>
            <p >При выполнении этой программы на экран будут выведены названия (в каноническом виде) всех файлов, с расширением <span class="texample">.java</span>, содержащихся в текущем каталоге и всех его подкаталогах. </p>
            <p >Для определения того, что файл имеет расширение <span class="texample">.java</span>, использовался интерфейс <span class="texample">FileFilter</span> с реализацией в виде внутреннего класса <span class="texample">NameFilter</span>. Интерфейс <span class="texample">FileFilter</span> определяет только один метод <span class="texample">accept</span>, возвращающий значение, определяющее, попадает ли переданный файл в условия фильтрации. Помимо этого интерфейса, существует еще одна разновидность интерфейса фильтра – <span class="texample">FilenameFilter</span>, где метод <span class="texample">accept</span> определен несколько иначе: он принимает не объект файла к проверке, а объект <span class="texample">File</span>, указывающий на каталог, где находится файл для проверки, и строку его названия. Для проверки совпадения, с учетом регулярных выражений, нужно соответствующим образом реализовать метод <span class="texample">accept</span>. В конкретном приведенном примере можно было обойтись и без использования интерфейсов <span class="texample">FileFilter</span> или <span class="texample">FilenameFilter</span>. На практике их можно использовать для вызова методов <span class="texample">list</span> объектов 
<span class="texample">File</span> – в этих случаях будут возвращены файлы с учетом фильтра. </p>
            <p >Также класс <span class="texample">File</span> предоставляет возможность получения некоторой информации о файле. </p>
            <ul >
                <li>Методы <span class="texample">canRead</span> и <span class="texample">canWrite</span> – возвращается <span class="texample">boolean</span> значение, можно ли будет приложению производить чтение и изменение содержимого из файла, соответственно. </li>
                <li>
                    <span class="texample">getName</span> – возвращает строку – имя файла (или каталога). </li>
                <li>
                    <span class="texample">getParent</span>, <span class="texample">getParentName</span> – возвращают каталог, где файл находится в виде строки названия и объекта <span class="texample">File</span>, соответственно. </li>
                <li>
                    <span class="texample">getPath</span> – возвращает путь к файлу (при этом в строку преобразуется абстрактный путь, на который указывает объект <span class="texample">File</span>). </li>
                <li>
                    <span class="texample">isAbsolutely</span> – возвращает <span class="texample">boolean</span> значение, является ли абсолютным путь, которым указан файл. Определение, является ли путь абсолютным, зависит от системы, где запущена Java-машина. Так, для Windows абсолютный путь начинается с указания диска, либо символом <span class="texample">'\'</span>. Для Unix абсолютный путь начинается символом <span class="texample">'/'</span> . </li>
                <li>
                    <span class="texample">isDirectory</span>, <span class="texample">isFile</span> – возвращает <span class="texample">boolean</span> значение, указывает ли объект на каталог либо файл, соответственно. </li>
                <li>
                    <span class="texample">isHidden</span> – возвращает <span class="texample">boolean</span> значение, указывает ли объект на скрытый файл. </li>
                <li>
                    <span class="texample">lastModified</span> – дата последнего изменения. </li>
                <li>
                    <span class="texample">ength</span> – длина файла в байтах.</li>
            </ul>
            <p >Также можно изменить некоторые свойства файла – методы <span class="texample">setReadOnly</span>, <span class="texample">setLastModified</span>, назначение которых очевидно из названия. Если нужно создать файл на диске, это позволяют сделать методы <span class="texample">createNewFile</span>, <span class="texample">mkDir</span>, <span class="texample">mkDirs</span>. Соответственно, <span class="texample">createNewFile</span> создает пустой файл (если таковой еще не существует), <span class="texample">mkDir</span> создает каталог, если для него все родительские уже существуют, а <span class="texample">mkDirs</span> создаст каталог вместе со всеми необходимыми родительскими. </p>
            <p >Файл можно и удалить – для этого предназначены методы <span class="texample">delete</span> и <span class="texample">deleteOnExit</span>. При вызове метода <span class="texample">delete</span> файл будет удален сразу же, а при вызове <span class="texample">deleteOnExit</span> по окончании работы Java-машины (только при корректном завершении работы) отменить запрос уже невозможно. </p>
            <p >Таким образом, класс <span class="texample">File</span> дает возможность достаточно полного управления файловой системой. </p>
        
        <h4 >Класс RandomAccessFile</h4>
            
            <p >Этот класс реализует сразу два интерфейса – <span class="texample">DataInput</span> и <span class="texample">DataOutput</span> – следовательно, может производить запись и чтение всех примитивных типов Java. Эти операции, как следует из названия, производятся с файлом. При этом их можно производить поочередно, произвольным образом перемещаясь по файлу с помощью вызова метода <span class="texample">seek(long)</span> (переводит на указанную позицию в файле). Узнать текущее положение указателя в файле можно вызовом метода <span class="texample">getFilePointer</span>. </p>
            <p >При создании объекта этого класса конструктору в качестве параметров нужно передать два параметра: файл и режим работы. Файл, с которым будет проводиться работа, указывается либо с помощью <span class="texample">String</span> – название файла, либо объектом <span class="texample">File</span>, ему соответствующим. Режим работы (<span class="texample">mode</span>) – представляет собой строку либо <span class="texample">"r"</span>(только чтение), либо <span class="texample">"rw"</span>(чтение и запись). Попытка открыть несуществующий файл только на чтение приведет к исключению <span class="texample">FileNotFoundException</span>. При открытии на чтение и запись он будет незамедлительно создан (или же будет брошено исключение <span class="texample">FileNotFoundException</span>, если это невозможно осуществить). </p>
            <p >После создания объекта <span class="texample">RandomAccessFile</span> можно воспользоваться методами интерфейсов <span class="texample">DataInput</span> и <span class="texample">DataOutput</span> для проведения с файлом операций считывания и записи. По окончании работы с файлом его следует закрыть, вызвав метод <span class="texample">close</span>.</p>
        
    <h3 >Заключение</h3>
        
        <p >В данной лекции вы познакомились с таким важным понятием, как <span class="keyword">потоки данных</span> (<span class="keyword">stream</span>). Потоки являются очень эффективным способом решения задач, связанных с передачей и получением данных, независимо от особенностей используемых устройств ввода/вывода. Как вы теперь знаете, именно в пакете <span class="texample">java.io</span> содержатся стандартные классы, решающие задачи обмена данными в самых различных форматах. </p>
        <p >Были описаны базовые классы байтовых потоков <span class="texample">InputStream</span> и <span class="texample">OutputStream</span>, а также символьных потоков <span class="texample">Reader</span> и <span class="texample">Writer</span>. Все классы потоков явным или неявным образом наследуются от них. Краткий обзор показал, для чего предназначен каждый класс, как с ним работать, какие классы не рекомендованы к использованию. Изучено, как передавать в потоки значения примитивные типов Java. Особое внимание было уделено операциям с объектами, для которых существует специальный механизм <span class="keyword">сериализации</span>. </p>
        <p >Наконец, были описаны классы для работы с файловой системой – <span class="texample">File</span> и <span class="texample">RandomAccessFile</span>. </p>
    

	</td>		
	</tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2 align="center">

<a href="http://www.intuit.ru/department/pl/javapl/15/test/" class="attention">Перейти к вопросам &raquo;</a>

	</td></tr>
	<tr><td height="16" colspan=2><img src="../../../img/empty.gif" width="1" height="16"></td></tr>

<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/15/4.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr>

<td align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="3.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>


<a class="rtitle" href="2.html">2</a>
<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>

<font class="rtitle">4</font>

<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/15/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/15/test/"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/15/javapl_15.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	</table>
	<!-- /content -->

</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- rightcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">
	<!---->


<!--Основные понятия-->
	<td class="bordo" height="24">&nbsp;&nbsp;Ключевые слова</td>
	</tr>
	<tr>
	<td><span class="rtxt"><span  class="keyword_list">stream</span>, <span  class="keyword_list">поток данных</span>, <span  class="keyword_list">сериализация</span><br ><br ><a  class="allnews" href="../keywords.html">все ключевые слова »</a>
</td>
	</tr>
	<tr><td>&nbsp;</td></tr>
<!--/Основные понятия-->

		<tr><td class="bordo" height="24">&nbsp;&nbsp;Информация о лекции</td></tr>
	<tr>
	<td>
<span class="rtxt">Эта лекция описывает реализованные в Java возможности передачи информации, что является важной функцией для большинства программных систем. Сюда входит работа с файлами, сетью, долговременное сохранение объектов, обмен данными между потоками исполнения и т.п. Все эти действия базируются на потоках байт (представлены классами InputStream и OutputStream) и потоках символов (Reader и Writer). В библиотеке java.io содержатся все эти классы и их многочисленные наследники, предоставляющие полезные возможности. Отдельно рассматривается механизм сериализации объектов и работа с файлами.

	</td>
	</tr>
	<tr><td>&nbsp;</td></tr>

	

	
	<td class="bordo" height="24">&nbsp;&nbsp;Учебники к курсу</td>
	</tr>
	<tr>
<td>

		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td>

<table border="0" cellpadding="1" cellspacing="0"  align="left" hspace="5" vspace="2"><tr><td class="orang"><table border="0" cellpadding="2" cellspacing="0" bgcolor="#ffffff"><tr><td valign="middle" align="center"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325"><img width="72" height="105" src="../../../img/covers/i/in/int/intu006.jpg" alt="Программирование на Java" border="0"></a></td></tr></table></td></tr></table>

<a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325" class="spectitle">
Программирование на Java</a>
<br>
<font class="spectxt">
Вязовик Н.А.,
<br>
Интернет-университет информационных технологий - ИНТУИТ.ру.
<br>
Курс лекций посвящен современному и мощному языку программирования Java. В его рамках дается вводное изложение принципов ООП, необходимое для разработки на Java, основы языка, библиотеки для работы с файлами, сетью, для построения оконного интерфейса пользователя (GUI) и др.

</font>
		</td>
		</tr>

		</table>

</td>
	</tr>


	<tr><td height="10"><img src="../../../img/empty.gif" width="1" height="10"></td></tr>



	<tr>
<td>
		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td class="spectxt">
<span class="spectitle"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=1412049" class="spectitle">Приемы объектно-ориентированного проектирования. Паттерны проектирования</a></span>
<br>
Гамма Э. и др.,
Питер.
		</td>
		</tr>


		</table>

</td>
	</tr>


<tr>
<td><a href="http://www.intuit.ru/cgi-bin/goto.fcgi?mode=books_of_course&cid=57" class="allnews">все книги по курсу &raquo;</a></td>
</tr>



	</table>
	<!-- /rightcolumn -->
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
</tr>
</table>

<!-- /bottom -->
<table border="0" cellpadding="0" cellspacing="6" width="100%" height="73">
<tr>
<td align="center" class="menu">
    <table border="0" cellpadding="0" cellspacing="0" background="">
    <tr>
    <td class="copy">
    <a href="http://www.intuit.ru/all_departments.html" class="bot">Кафедры</a> |
    <a href="http://www.intuit.ru/all_courses.html" class="bot">Все курсы</a> |
    <a href="http://www.intuit.ru/syllabus.html" class="bot">Расписание</a> |
    <a href="http://www.intuit.ru/shop/catalog/index.html?" class="bot">Учебники</a> | 
    <a href="http://www.intuit.ru/news.html" class="bot">Новости</a> | 
    <a href="http://www.intuit.ru/department/forum/" class="bot">Форум</a>
    <br>
    <a href="http://www.intuit.ru/user/classes/" class="bot">Мои курсы</a> | 
    <a href="http://www.intuit.ru/user/adjustments/" class="bot">Личные настройки</a> | 
    <a href="http://www.intuit.ru/user/cart/" class="bot">Корзина</a> | 
    <a href="http://www.intuit.ru/help/" class="bot">Помощь</a><br><br>
    Телефон: (095) 253-9312, 253-9313, факс: (095) 253-9310, email: <a href="http://www.intuit.ru/help/askform.xhtml" class="bot">info@intuit.ru</a><br>
    Адрес: 123056 Москва, Электрический пер., 8, стр. 3<br>
    &copy; 2003-2004 INTUIT.ru. Все права защищены.
    </td>
    </tr>
    </table>
</td>
</tr>
</table>
<!-- /bottom -->


</body>
</html>
