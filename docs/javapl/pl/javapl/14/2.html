<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>INTUIT.ru::Интернет-Университет Информационных Технологий</title>
<link rel="shortcut icon" href="http://www.intuit.ru/favicon.ico">


<META http-equiv="Pragma" CONTENT="no-cache">
<META http-equiv="Cache-Control" CONTENT="no-cache, must-revalidate">
<META NAME="Pragma" CONTENT="no-cache">
<META NAME="Cache-Control" CONTENT="no-cache">
<link href="../../../ssi/style.css" type="text/css" rel="stylesheet">
</head>
<body leftmargin="0" topmargin="6" marginheight="6" marginwidth="0" bgcolor="white">

<!-- header -->
<!---->
<table border="0" cellpadding="8" cellspacing="0" width="100%">
<tr valign="top">
<td><a href="http://www.intuit.ru/"><img src="../../../img/logo.gif" border="0" width="285" height="52" alt="Интернет Университет информационных технологий"></a></td>
<!---->
</tr>
</table>

<!-- /header -->

<!-- /menu -->
<table border="0" cellpadding="" cellspacing="6" width="100%">
<tr>
<td align="center" class="menu">
	<table border="0" cellpadding="0" cellspacing="0" background="" height="31">
	<tr>
	<td><a href="http://www.intuit.ru/speciality/" class="menu">Учебные программы</a></td>
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_departments.html" class="menu">Кафедры</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_courses.html" class="menu">Все курсы</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/syllabus.html" class="menu">Расписание</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/shop/" class="menu">Учебники</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/news.html" class="menu">Новости</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/department/forum/" class="menu">Форум</a></td>
<!--
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/help/" class="menu">Помощь</a></td>		
-->
	</tr>
	</table>	

</td>
</tr>
</table>
<!-- /menu -->


<table border="0" cellpadding="0" cellspacing="0" width="100%" height="73">
<tr valign="top">
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- leftcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">

		<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Лекции</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>

		<td colspan=3>
<a href="../index.html" class="spec">Программирование на Java</a>


</td>
		</tr>
<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">1.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../1/1.html" class="llecture">Что такое Java? История создания</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">2.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../2/1.html" class="llecture">Основы объектно-ориентированного...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">3.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../3/1.html" class="llecture">Лексика языка</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">4.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../4/1.html" class="llecture">Типы данных</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">5.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../5/1.html" class="llecture">Имена. Пакеты</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">6.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../6/1.html" class="llecture">Объявление классов</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">7.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../7/1.html" class="llecture">Преобразование типов</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">8.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../8/1.html" class="llecture">Объектная модель в Java</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">9.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../9/1.html" class="llecture">Массивы</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">10.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../10/1.html" class="llecture">Операторы и структура кода. Искл...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">11.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../11/1.html" class="llecture">Пакет java.awt</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">12.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../12/1.html" class="llecture">Потоки выполнения. Синхронизация</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">13.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../13/1.html" class="llecture">Пакет java.lang</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">14.</td>
		<td>&nbsp;</td>
<td class="llecture">


<a href="../14/1.html" class="llecture_selected">Пакет java.util</a>


</td>
		</tr>




		<tr valign=top>

		<td class="llecture">15.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../15/1.html" class="llecture">Пакет java.io</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">16.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../16/1.html" class="llecture">Введение в сетевые протоколы</a>
</td>
		</tr>






<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="http://www.intuit.ru/department/pl/javapl/class/examination/" class="llecture">Экзамен</a></td>
		</tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a class="llecture_red" href="http://www.intuit.ru/department/pl/javapl/class/examination_extern/">Сдать экзамен экстерном</a></td>
		</tr>

<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../lit.html" class="llecture">Литература</a></td>
		</tr>





		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../keywords.html" class="llecture">Предметный указатель</a></td>
		</tr>



		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../examples.html" class="llecture">Примеры</a></td>
		</tr>


		</table><br>
	</td>
	</tr>


	

	<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Общение</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/classmates/" class="spec">однокурсники</a></td>
		</tr>
		

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/forum/" class="spec">форум по курсу</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/question_for_lector/" class="spec">вопрос преподавателю</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/opinions/" class="spec">мнения о курсе</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/rating/" class="spec">рейтинг выпускников</a></td>
		</tr>


		</table><br>
	</td>
	</tr>



<tr><td height="1"><a href="../robot.html"><img src="../../../img/empty.gif" width="1" height="1" border="0"></a></td></tr>

	</table>

	<!-- #include virtual="~/inc/leftcolumn.html" -->
	<!-- /leftcolumn -->	
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td>
	<!-- content -->
	<table border="0" cellpadding="0" cellspacing="0" width="100%">
	<tr><td class="head" colspan=2>Программирование на Java</td></tr>
<tr><td colspan=2 height="4"><img src="../../../img/empty.gif" width="1" height="4"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>




<tr>
<td colspan="2" align=left class="headsub">Лекция #14: <a href="../14/1.html">Пакет java.util</a></td>
</tr>

<tr><td height="6" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>


<tr>

<td align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="1.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>

<font class="rtitle">2</font>

<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>


<a class="rtitle" href="4.html">4</a>
<font class="stitle">|</font>


<a class="rtitle" href="5.html">5</a>
<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/14/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="3.html"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/14/javapl_14.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>


	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/14/2.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2>


    
    <h3 >Интерфейс Observer и класс Observable</h3>
        
        <p >Интерфейс <span class="texample">Observer</span> определяет всего один метод, <span class="texample">update (Observable o, Object arg)</span>, который вызывается, когда обозреваемый объект изменяется. </p>
        <p >Класс <span class="texample">Observable</span> предназначен для поддержки обозреваемого объекта в парадигме MVC (model-view-controller), которая, как и другие проектные решения и шаблоны, описана в специальной литературе. Этот класс должен быть унаследован, если возникает необходимость в том, чтобы отслеживать состояние какого-либо объекта. Обозреваемый объект может иметь несколько обозревателей. Соответственно, они должны реализовать интерфейс <span class="texample">Observer</span>. </p>
        <p >После того, как в состоянии обозреваемого объекта что-то меняется, необходимо вызвать метод <span class="texample">notifyObservers</span>, который, в свою очередь, вызывает методы <span class="texample">update</span> у каждого обозревателя. </p>
        <p >Порядок, в котором вызываются методы <span class="texample">update</span> обозревателей, заранее не определен. Реализация по умолчанию подразумевает их вызов в порядке регистрации. Регистрация осуществляется с помощью метода <span class="texample">addObserver(Observer o)</span>. Удаление обозревателя из списка выполняется с помощью <span class="texample">deleteObserver(Observer o)</span>. Перед вызовом <span class="texample">notifyObservers</span> необходимо вызвать метод <span class="texample">setChanged</span>, который устанавливает признак того, что обозреваемый объект был изменен. </p>
        <p >Рассмотрим пример организации взаимодействия классов: </p>
        <a  name="example.14.13"></a><div  class="example"><span class="objectName">
            Пример 
            14.13.
            
            (<a href="example.14.13.htm" target="_blank" onClick="window.open('example.14.13.htm','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">html</a>,
            <a href="example.14.13.txt" target="_blank" onClick="window.open('example.14.13.txt','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">txt</a>)
            </span></div>
        <p >В результате работы на консоль будет выведено: </p>
        <a  name="example.14.14"></a><div  class="example"><span class="objectName">
            Пример 
            14.14.
            
            (<a href="example.14.14.htm" target="_blank" onClick="window.open('example.14.14.htm','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">html</a>,
            <a href="example.14.14.txt" target="_blank" onClick="window.open('example.14.14.txt','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">txt</a>)
            </span></div>
        <p >На практике использовать <span class="texample">Observer</span> не всегда удобно, так как в Java отсутствует множественное наследование и <span class="texample">Observer</span> необходимо наследовать в самом начале построения иерархии классов. Как вариант, можно предложить определить интерфейс, задающий функциональность, сходную с <span class="texample">Observer</span>, и реализовать его в подходящем классе. </p>
    <h3 >Коллекции</h3>
        
        <p >Зачастую в программе работа идет не с одним объектом, а с целой группой более или менее однотипных экземпляров (например, автопарк организации). Проще всего сделать это с помощью массивов. Однако, несмотря на то, что это достаточно эффективное решение для многих случаев, оно имеет некоторые ограничения. Так, обращаться к элементу массива можно только по его номеру (индексу). Также необходимо заранее задать длину массива и больше ее не менять. </p>
        <p >Массивы существовали в Java изначально. Кроме того, было определено два класса для организации более эффективной работы с наборами объектов: <span class="texample">Hashtable</span> и <span class="texample">Vector</span>. В JDK 1.2 набор классов, поддерживающих работу с коллекциями, был существенно расширен. </p>
        <p >Существует несколько различных типов классов-коллекций. Все они разрабатывались, по возможности, в соответствии с единой логикой и определенными интерфейсами и там, где это возможно, работа с ними унифицирована. Однако все коллекции отличаются внутренними механизмами хранения, скоростью доступа к элементам, потребляемой памятью и другими деталями. Например, в некоторых коллекциях объекты (также называемые элементами коллекций), могут быть упорядочены, в некоторых – нет. В некоторых типах коллекций допускается дублирование ссылок на объект, в некоторых – нет. Далее мы рассмотрим каждый из классов-коллекций. </p>
        <p >Классы, обеспечивающие манипулирование коллекциями объектов, объявлены в пакете <span class="texample">java.util</span>. </p>
        <h4 >Интерфейсы</h4>
            
            <h5 >Интерфейс Collection</h5>
                
                <p >Данный интерфейс является корнем всей иерархии классов-коллекций. Он определяет базовую функциональность любой коллекции – набор методов, которые позволяют добавлять, удалять, выбирать элементы коллекции. Классы, которые реализуют интерфейс <span class="texample">Collection</span>, могут содержать дубликаты и пустые (<span class="texample">null</span>) значения. </p>
                <p >
                    <span class="texample">AbstractCollection</span>, как абстрактный класс, служит основой для создания конкретных классов коллекций и содержит реализацию некоторых методов, определенных в интерфейсе <span class="texample">Collection</span>.</p>
            
            <h5 >Интерфейс Set </h5>
                
                <p >Классы, которые реализуют этот интерфейс, не допускают наличия дубликатов. В коллекции этого типа разрешено наличие только одной ссылки типа <span class="texample">null</span>. Интерфейс <span class="texample">Set</span> расширяет интерфейс <span class="texample">Collection</span>, таким образом, любой класс, имплементирующий <span class="texample">Set</span>, реализует все методы, определенные в <span class="texample">Collection</span>. Любой объект, добавляемый в <span class="texample">Set</span>, должен реализовать метод <span class="texample">equals</span>, чтобы его можно было сравнить с другими. </p>
                <p >
                    <span class="texample">AbstractSet</span>, являясь абстрактным классом, представляет собой основу для реализации различных вариантов интерфейса <span class="texample">Set</span>. </p>
            
            <h5 >Интерфейс List</h5>
                
                <p >Классы, реализующие этот интерфейс, содержат упорядоченную последовательность объектов (объекты хранятся в том порядке, в котором они были добавлены). В JDK 1.2 был переделан класс <span class="texample">Vector</span>, так, что он теперь реализует интерфейс <span class="texample">List</span>. Интерфейс <span class="texample">List</span> расширяет интерфейс <span class="texample">Collection</span>, и любой класс, имплементирующий <span class="texample">List</span>, реализует все методы, определенные в <span class="texample">Collection</span>, и в то же время вводятся новые методы, которые позволяют добавлять и удалять элементы из списка. <span class="texample">List</span> также обеспечивает <span class="texample">ListIterator</span>, который позволяет перемещаться как вперед, так и назад по элементам списка. </p>
                <p >
                    <span class="texample">AbstractList</span>, как абстрактный класс, представляет собой основу для реализации различных вариантов интерфейса <span class="texample">List</span>. </p>
                <p  align="center"><a name="image.14.1"></a><img src="14-1.gif" alt="Основные типы для работы с коллекциями." width="556" height="605"><br><b>Рис. 
            14.1.
            </b> Основные типы для работы с коллекциями.</p> 
            
            <h5 >Интерфейс Map </h5>
                
                <p >Классы, которые реализуют этот интерфейс, хранят неупорядоченный набор объектов парами ключ/значение. Каждый ключ должен быть уникальным. <span class="texample">Hashtable</span> после модификации в JDK 1.2 реализует интерфейс Map. Порядок следования пар ключ/значение не определен. </p>
                <p >Интерфейс Map не расширяет интерфейс <span class="texample">Collection</span>. <span class="texample">AbstractMap</span>, будучи абстрактным классом, представляет собой основу для реализации различных вариантов интерфейса <span class="texample">Map</span>. </p>
            
            <h5 >Интерфейс SortedSet</h5>
                
                <p >Этот интерфейс расширяет <span class="texample">Set</span>, требуя, чтобы содержимое набора было упорядочено. Такие коллекции могут содержать объекты, которые реализуют интерфейс <span class="texample">Comparable</span>, либо могут сравниваться с использованием внешнего <span class="texample">Comparator</span>. </p>
            
            <h5 >Интерфейс SortedMap</h5>
                
                <p >Этот интерфейс расширяет <span class="texample">Map</span>, требуя, чтобы содержимое коллекции было упорядочено по значениям ключей. </p>
            
            <h5 >Интерфейс Iterator </h5>
                
                <p >В Java 1 для перебора элементов коллекции использовался интерфейс <span class="texample">Enumeration</span>. В Java 2 для этих целей должны применяться объекты, которые реализуют интерфейс <span class="texample">Iterator</span>. Все классы, которые реализуют интерфейс <span class="texample">Collection</span>, должны реализовать метод <span class="texample">iterator</span>, который возвращает объект, реализующий интерфейс <span class="texample">Iterator</span>. <span class="texample">Iterator</span> весьма похож на <span class="texample">Enumeration</span>, с тем лишь отличием, что в нем определен метод <span class="texample">remove</span>, который позволяет удалить объект из коллекции, для которой <span class="texample">Iterator</span> был создан. </p>
                <p >Таким образом, подводя итог, перечислим интерфейсы, используемые при работе с коллекциями: </p>
                <div  class="example"><pre>
java.util.Collection
java.util.Set
java.util.List
java.util.Map
java.util.SortedSet
java.util.SortedMap
java.util.Iterator 
</pre></div>
            
        
        <h4 >Aбстрактные классы, используемые при работе с коллекциями</h4>
            
            <p >
                <span class="texample">java.util.AbstractCollection</span> – данный класс реализует все методы, определенные в интерфейсе <span class="texample">Collection</span>, за исключением <span class="texample">iterator</span> и <span class="texample">size</span>, так что для того, чтобы создать немодифицируемую коллекцию, нужно переопределить эти методы. Для реализации модифицируемой коллекции необходимо еще переопределить метод <span class="texample">public void add(Object o)</span> (в противном случае при его вызове будет возбуждено исключение <span class="texample">UnsupportedOperationException</span>). </p>
            <p  align="center"><a name="image.14.2"></a><img src="14-2.gif" alt="Базовые абстрактные классы." width="523" height="608"><br><b>Рис. 
            14.2.
            </b> Базовые абстрактные классы.</p>  
            <p >Необходимо также определить два конструктора без аргументов и с аргументом <span class="texample">Collection</span>. Первый должен создавать пустую коллекцию, второй – коллекцию на основе существующей. Данный класс расширяется классами <span class="texample">AbstractList</span> и <span class="texample">AbstractSet</span>. </p>
            <p >
                <span class="texample">java.util.AbstractList</span> – этот класс расширяет <span class="texample">AbstractCollection</span> и реализует интерфейс <span class="texample">List</span>. Для создания немодифицируемого списка необходимо имплементировать методы <span class="texample">public Object get(int index) и public int size()</span>. Для реализации модифицируемого списка необходимо также реализовать метод <span class="texample">public void set(int index,Object element)</span> (в противном случае при его вызове будет возбуждено исключение <span class="texample">UnsupportedOperationException</span>). </p>
            <p >В отличие от <span class="texample">AbstractCollection</span>, в этом случае нет необходимости реализовывать метод <span class="texample">iterator</span>, так как он уже реализован поверх методов доступа к элементам списка <span class="texample">get, set, add, remove</span>. </p>
            <p >
                <span class="texample">java.util.AbstractSet</span> – данный класс расширяет <span class="texample">AbstractCollection</span> и реализует основную функциональность, определенную в интерфейсе <span class="texample">Set</span>. Следует отметить, что этот класс не переопределяет функциональность, реализованную в классе <span class="texample">AbstractCollection</span>. </p>
            <p >
                <span class="texample">java.util.AbstractMap</span> – этот класс расширяет основную функциональность, определенную в интерфейсе <span class="texample">Map</span>. Для реализации немодифицируемого класса, унаследованного от <span class="texample">AbstractMap</span>, достаточно определить метод <span class="texample">entrySet</span>, который должен возвращать объект, приводимый к типу <span class="texample">AbstractSet</span>. Этот набор (<span class="texample">Set</span>) не должен обеспечивать методов для добавления и удаления элементов из набора. Для реализации модифицируемого класса <span class="texample">Map</span> необходимо также переопределить метод put и добавить в итератор, возвращаемый <span class="texample">entrySet().iterator()</span>, поддержку метода <span class="texample">remove</span>. </p>
            <p >
                <span class="texample">java.util.AbstractSequentialList</span> – этот класс расширяет <span class="texample">AbstractList</span> и является основой для класса LinkedList. Основное отличие от <span class="texample">AbstractList</span> заключается в том, что этот класс обеспечивает не только последовательный, но и произвольный доступ к элементам списка, с помощью методов <span class="texample">get(int index), set(int index, Object element), set(int index, Object element), add(int index, Object element)</span> и <span class="texample">remove(int index)</span>. Для того, чтобы реализовать данный класс, необходимо переопределить методы <span class="texample">listIterator</span> и <span class="texample">size</span>. Причем, если реализуется немодифицируемый список, для итератора достаточно реализовать методы <span class="texample">hasNext, next, hasPrevious, previous</span> и <span class="texample">index</span>. Для модифицируемого списка необходимо дополнительно реализовать метод <span class="texample">set</span>, а для списков переменной длины еще и <span class="texample">add</span>, и <span class="texample">remove</span>. </p>
        
        <h4 >Конкретные классы коллекций</h4>
            
            <p >
                <span class="texample">java.util.ArrayList</span> – этот класс расширяет <span class="texample">AbstractList</span> и весьма похож на класс <span class="texample">Vector</span>. Он также динамически расширяется, как <span class="texample">Vector</span>, однако его методы не являются синхронизированными, вследствие чего операции с ним выполняются быстрее. Для того, чтобы воспользоваться синхронизированной версией <span class="texample">ArrayList</span>, можно применить вот такую конструкцию: </p>
            <a  name="example.14.15"></a><div  class="example"><span class="objectName">
            Пример 
            14.15.
            
            (<a href="example.14.15.htm" target="_blank" onClick="window.open('example.14.15.htm','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">html</a>,
            <a href="example.14.15.txt" target="_blank" onClick="window.open('example.14.15.txt','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">txt</a>)
            </span></div>
            <p >Результатом будет: </p>
            <a  name="example.14.16"></a><div  class="example"><span class="objectName">
            Пример 
            14.16.
            
            (<a href="example.14.16.htm" target="_blank" onClick="window.open('example.14.16.htm','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">html</a>,
            <a href="example.14.16.txt" target="_blank" onClick="window.open('example.14.16.txt','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">txt</a>)
            </span></div>
            <p >
                <span class="texample">java.util.LinkedList</span> – представляет собой реализацию интерфейса <span class="texample">List</span>. Он реализует все методы интерфейса <span class="texample">List</span>, помимо этого добавляются еще новые методы, которые позволяют добавлять, удалять и получать элементы в конце и начале списка. <span class="texample">LinkedList</span> является двухсвязным списком и позволяет перемещаться как от начала в конец списка, так и наоборот. <span class="texample">LinkedList</span> удобно использовать для организации стека. </p>
            <a  name="example.14.17"></a><div  class="example"><span class="objectName">
            Пример 
            14.17.
            
            (<a href="example.14.17.htm" target="_blank" onClick="window.open('example.14.17.htm','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">html</a>,
            <a href="example.14.17.txt" target="_blank" onClick="window.open('example.14.17.txt','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">txt</a>)
            </span></div>
            <p >Результатом будет: </p>
            <a  name="example.14.18"></a><div  class="example"><span class="objectName">
            Пример 
            14.18.
            
            (<a href="example.14.18.htm" target="_blank" onClick="window.open('example.14.18.htm','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">html</a>,
            <a href="example.14.18.txt" target="_blank" onClick="window.open('example.14.18.txt','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">txt</a>)
            </span></div>
            <p >Классы <span class="texample">LinkedList</span> и <span class="texample">ArrayList</span> имеют схожую функциональность. Однако с точки зрения производительности он отличаются. Так, в <span class="texample">ArrayList</span> заметно быстрей (примерно на порядок) осуществляются операции прохода по всему списку (итерации) и получения данных. <span class="texample">LinkedList</span> почти на порядок быстрее выполняет операции удаления и добавления новых элементов. </p>
            <p >
                <span class="texample">java.util.Hastable</span> – расширяет абстрактный класс <span class="texample">Dictionary</span>. В JDK 1.2 класс <span class="texample">Hashtable</span> также реализует интерфейс <span class="texample">Map</span>. <span class="texample">Hashtable</span> предназначен для хранения объектов в виде пар ключ/значение. Из самого названия следует, что <span class="texample">Hаshtable</span> использует алгоритм хэширования для увеличения скорости доступа к данным. Для того, чтобы выяснить принципы работы данного алгоритма, рассмотрим несколько примеров. </p>
            <p >Предположим, имеется массив строк, содержащий названия городов. Для того, чтобы найти элемент массива, содержащий название города, в общем случае требуется просмотреть весь массив, а если необходимо найти все элементы массива, то для поиска каждого, в среднем, потребуется просматривать половину массива. Такой подход может оказаться приемлемым только для небольших массивов. </p>
            <p >Как уже отмечалось ранее, для того, чтобы увеличить скорость поиска, используется алгоритм хэширования. Каждый объект в Java унаследован от <span class="texample">Object</span>. Как уже отмечалось ранее, <span class="texample">Object</span> определено целое число, которое уникально идентифицирует экземпляр класса <span class="texample">Object</span> и, соответственно, все экземпляры классов, унаследованных от <span class="texample">Object</span>. Это число возвращает метод <span class="texample">hashCode()</span>. Именно оно используется при сохранении ключа в <span class="texample">Hashtable</span> следующим образом: разделив длину массива, предназначенного для хранения ключей, на код, получаем некое целое число, которое служит индексом для хранения ключа в массиве <span class="texample">array.length % hashCode()</span>. </p>
            <p >Далее, если необходимо добавить новую пару ключ/значение, вычисляется новый индекс, и если этот индекс совпадает с уже имеющимся, то создается список ключей, на который указывает элемент массива ключей. Таким образом, при обратном извлечении ключа необходимо вычислить индекс массива по тому же алгоритму и получить его. Если ключ в массиве единственный, то используется значение элемента массива, если хранится несколько ключей, то необходимо обойти список и выбрать нужный. </p>
            <p >Есть несколько соображений, относящихся к производительности классов, использующих для хранения данных алгоритм хэширования. В частности, размер массива. Если массив окажется слишком мал, то связанные списки будут слишком длинными и скорость поиска станет существенно снижаться, так как просмотр элементов списка будет такой же, как в обычном массиве. Чтобы этого избежать, задается некий коэффициент заполнения. При заполнении элементов массива, в котором хранятся ключи (или списки ключей) на эту величину, происходит увеличение массива и производится повторное реиндексирование. Таким образом, если массив окажется слишком мал, то он будет быстро заполняться и будет производиться операция повторного индексирования, которая отнимает достаточно много ресурсов. С другой стороны, если массив сделать большим, то при необходимости просмотреть последовательно все элементы коллекции, использующей алгоритм хэширования, придется обрабатывать большое количество пустых элементов массива ключей. </p>
            <p >Начальный размер массива и коэффициент загрузки коллекции задаются при конструировании. Например: </p>
            <div  class="example"><pre>
Hashtable ht = new Hashtable(1000,0.60) 
</pre></div>
            <p >Существует также конструктор без параметров, который использует значения по умолчанию 101 для размера массива (в последней версии значение уменьшено до 11) и 0.75 для коэффициента загрузки. </p>
            <p >Использование алгоритма хэширования позволяет гарантировать, что скорость доступа к элементам коллекции такого типа будет увеличиваться не линейно, а логарифмически. Таким образом, при частом поиске каких-либо значений по ключу имеет смысл задействовать коллекции, применяющие алгоритм хэштрования. </p>
            <p >
                <span class="texample">java.util.HashMap</span> – этот класс расширяет <span class="texample">AbstractMap</span> и весьма похож на класс <span class="texample">Hashtable</span>. <span class="texample">HashMap</span> предназначен для хранения пар объектов ключ/значение. Как для ключей, так и для элементов допускаются значения типа <span class="texample">null</span>. Порядок хранения элементов в этой коллекции не совпадает с порядком их добавления. Порядок элементов в коллекции также может меняться во времени. <span class="texample">HashMap</span> обеспечивает постоянное время доступа для операций <span class="texample">get</span> и <span class="texample">put</span>. </p>
            <p >Итерация по всем элементам коллекции пропорциональна ее емкости. Поэтому имеет смысл не делать размер коллекций чрезмерно большим, если достаточно часто придется осуществлять итерацию по элементам. </p>
            <p >Методы <span class="texample">HashMap</span> не являются синхронизированными. Для того, чтобы обеспечить нормальную работу в многопоточном варианте, следует использовать либо внешнюю синхронизацию потоков, либо синхронизированный вариант коллекции. </p>
            <a  name="example.14.19"></a><div  class="example"><span class="objectName">
            Пример 
            14.19.
            
            (<a href="example.14.19.htm" target="_blank" onClick="window.open('example.14.19.htm','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">html</a>,
            <a href="example.14.19.txt" target="_blank" onClick="window.open('example.14.19.txt','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">txt</a>)
            </span></div>
            <p >Результатом будет: </p>
            <a  name="example.14.20"></a><div  class="example"><span class="objectName">
            Пример 
            14.20.
            
            (<a href="example.14.20.htm" target="_blank" onClick="window.open('example.14.20.htm','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">html</a>,
            <a href="example.14.20.txt" target="_blank" onClick="window.open('example.14.20.txt','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">txt</a>)
            </span></div>
            <p >
                <span class="texample">java.util.TreeMap</span> – расширяет класс <span class="texample">AbstractMap</span> и реализует интерфейс <span class="texample">SortedMap</span>. <span class="texample">TreeMap</span> содержит ключи в порядке возрастания. Используется либо натуральное сравнение ключей, либо должен быть реализован интерфейс <span class="texample">Comparable</span>. Реализация алгоритма поиска обеспечивает логарифмическую зависимость времени выполнения основных операций (<span class="texample">containsKey, get, put</span> и <span class="texample">remove</span>). Запрещено применение <span class="texample">null</span> значений для ключей. При использовании дубликатов ключей ссылка на объект, сохраненный с таким же ключом, будет утеряна. Например: </p>
            <div  class="example"><pre>
public class Test {

   public Test() {
   }
   public static void main(String[] args) {
      Test t = new Test();
      TreeMap tm = new TreeMap();
      tm.put("key","String1");
      System.out.println(tm.get("key"));
      tm.put("key","String2");
      System.out.println(tm.get("key"));
   }
} 
</pre></div>
            <p >Результатом будет: </p>
            <div  class="example"><pre>
String1
String2 
</pre></div>
        
        <h4 >Класс Collections</h4>
            
            <p >Класс <span class="texample">Collections</span> является классом-утилитой и содержит несколько вспомогательных методов для работы с классами, обеспечивающими различные интерфейсы коллекций. Например, для сортировки элементов списков, для поиска элементов в упорядоченных коллекциях и т.д. Но, пожалуй, наиболее важным свойством этого класса является возможность получения синхронизированных вариантов классов-коллекций. Например, для получения синхронизированного варианта <span class="texample">Map</span> можно использовать следующий подход: </p>
            <div  class="example"><pre>
HashMap hm = new HashMap();
…
Map syncMap = Collections.synchronizedMap(hm);
… 
</pre></div>
            <p >Как уже отмечалось ранее, начиная с JDK 1.2, класс <span class="texample">Vector</span> реализует интерфейс <span class="texample">List</span>. Рассмотрим пример сортировки элементов, содержащихся в классе <span class="texample">Vector</span>. </p>
            <a  name="example.14.21"></a><div  class="example"><span class="objectName">
            Пример 
            14.21.
            
            (<a href="example.14.21.htm" target="_blank" onClick="window.open('example.14.21.htm','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">html</a>,
            <a href="example.14.21.txt" target="_blank" onClick="window.open('example.14.21.txt','','menubar=no,scrollbars=yes,resizable=yes');return false;" class="objectName">txt</a>)
            </span></div>
        


    
	</td>		
	</tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2 align="center">

<a href="3.html" class="attention">Перейти к следующей странице &raquo;</b></a>

	</td></tr>
	<tr><td height="16" colspan=2><img src="../../../img/empty.gif" width="1" height="16"></td></tr>

<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/14/2.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr>

<td align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="1.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>

<font class="rtitle">2</font>

<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>


<a class="rtitle" href="4.html">4</a>
<font class="stitle">|</font>


<a class="rtitle" href="5.html">5</a>
<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/14/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="3.html"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/14/javapl_14.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	</table>
	<!-- /content -->

</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- rightcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">
	<!---->


		<tr><td class="bordo" height="24">&nbsp;&nbsp;Информация о лекции</td></tr>
	<tr>
	<td>
<span class="rtxt">Эта лекция посвящена пакету java.util, в котором содержится множество вспомогательных классов и интерфейсов. Они настолько удобны, что практически любая программа использует эту библиотеку. Центральную часть в изложении занимает тема контейнеров, или коллекций ,– классов, хранящих упорядоченные ссылки на ряд объектов. Они были существенно переработаны в ходе создания версии Java2. Также рассматриваются классы для работы с датой, для генерации случайных чисел, обеспечения поддержки многих национальных языков в приложении и др.

	</td>
	</tr>
	<tr><td>&nbsp;</td></tr>

	

	
	<td class="bordo" height="24">&nbsp;&nbsp;Учебники к курсу</td>
	</tr>
	<tr>
<td>

		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td>

<table border="0" cellpadding="1" cellspacing="0"  align="left" hspace="5" vspace="2"><tr><td class="orang"><table border="0" cellpadding="2" cellspacing="0" bgcolor="#ffffff"><tr><td valign="middle" align="center"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325"><img width="72" height="105" src="../../../img/covers/i/in/int/intu006.jpg" alt="Программирование на Java" border="0"></a></td></tr></table></td></tr></table>

<a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325" class="spectitle">
Программирование на Java</a>
<br>
<font class="spectxt">
Вязовик Н.А.,
<br>
Интернет-университет информационных технологий - ИНТУИТ.ру.
<br>
Курс лекций посвящен современному и мощному языку программирования Java. В его рамках дается вводное изложение принципов ООП, необходимое для разработки на Java, основы языка, библиотеки для работы с файлами, сетью, для построения оконного интерфейса пользователя (GUI) и др.

</font>
		</td>
		</tr>

		</table>

</td>
	</tr>


	<tr><td height="10"><img src="../../../img/empty.gif" width="1" height="10"></td></tr>



	<tr>
<td>
		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td class="spectxt">
<span class="spectitle"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=1412049" class="spectitle">Приемы объектно-ориентированного проектирования. Паттерны проектирования</a></span>
<br>
Гамма Э. и др.,
Питер.
		</td>
		</tr>


		</table>

</td>
	</tr>


<tr>
<td><a href="http://www.intuit.ru/cgi-bin/goto.fcgi?mode=books_of_course&cid=57" class="allnews">все книги по курсу &raquo;</a></td>
</tr>



	</table>
	<!-- /rightcolumn -->
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
</tr>
</table>

<!-- /bottom -->
<table border="0" cellpadding="0" cellspacing="6" width="100%" height="73">
<tr>
<td align="center" class="menu">
    <table border="0" cellpadding="0" cellspacing="0" background="">
    <tr>
    <td class="copy">
    <a href="http://www.intuit.ru/all_departments.html" class="bot">Кафедры</a> |
    <a href="http://www.intuit.ru/all_courses.html" class="bot">Все курсы</a> |
    <a href="http://www.intuit.ru/syllabus.html" class="bot">Расписание</a> |
    <a href="http://www.intuit.ru/shop/catalog/index.html?" class="bot">Учебники</a> | 
    <a href="http://www.intuit.ru/news.html" class="bot">Новости</a> | 
    <a href="http://www.intuit.ru/department/forum/" class="bot">Форум</a>
    <br>
    <a href="http://www.intuit.ru/user/classes/" class="bot">Мои курсы</a> | 
    <a href="http://www.intuit.ru/user/adjustments/" class="bot">Личные настройки</a> | 
    <a href="http://www.intuit.ru/user/cart/" class="bot">Корзина</a> | 
    <a href="http://www.intuit.ru/help/" class="bot">Помощь</a><br><br>
    Телефон: (095) 253-9312, 253-9313, факс: (095) 253-9310, email: <a href="http://www.intuit.ru/help/askform.xhtml" class="bot">info@intuit.ru</a><br>
    Адрес: 123056 Москва, Электрический пер., 8, стр. 3<br>
    &copy; 2003-2004 INTUIT.ru. Все права защищены.
    </td>
    </tr>
    </table>
</td>
</tr>
</table>
<!-- /bottom -->


</body>
</html>
