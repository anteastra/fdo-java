<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>INTUIT.ru::Интернет-Университет Информационных Технологий</title>
<link rel="shortcut icon" href="http://www.intuit.ru/favicon.ico">


<META http-equiv="Pragma" CONTENT="no-cache">
<META http-equiv="Cache-Control" CONTENT="no-cache, must-revalidate">
<META NAME="Pragma" CONTENT="no-cache">
<META NAME="Cache-Control" CONTENT="no-cache">
<link href="../../../ssi/style.css" type="text/css" rel="stylesheet">
</head>
<body leftmargin="0" topmargin="6" marginheight="6" marginwidth="0" bgcolor="white">

<!-- header -->
<!---->
<table border="0" cellpadding="8" cellspacing="0" width="100%">
<tr valign="top">
<td><a href="http://www.intuit.ru/"><img src="../../../img/logo.gif" border="0" width="285" height="52" alt="Интернет Университет информационных технологий"></a></td>
<!---->
</tr>
</table>

<!-- /header -->

<!-- /menu -->
<table border="0" cellpadding="" cellspacing="6" width="100%">
<tr>
<td align="center" class="menu">
	<table border="0" cellpadding="0" cellspacing="0" background="" height="31">
	<tr>
	<td><a href="http://www.intuit.ru/speciality/" class="menu">Учебные программы</a></td>
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_departments.html" class="menu">Кафедры</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_courses.html" class="menu">Все курсы</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/syllabus.html" class="menu">Расписание</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/shop/" class="menu">Учебники</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/news.html" class="menu">Новости</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/department/forum/" class="menu">Форум</a></td>
<!--
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/help/" class="menu">Помощь</a></td>		
-->
	</tr>
	</table>	

</td>
</tr>
</table>
<!-- /menu -->


<table border="0" cellpadding="0" cellspacing="0" width="100%" height="73">
<tr valign="top">
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- leftcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">

		<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Лекции</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>

		<td colspan=3>
<a href="../index.html" class="spec">Программирование на Java</a>


</td>
		</tr>
<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">1.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../1/1.html" class="llecture">Что такое Java? История создания</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">2.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../2/1.html" class="llecture">Основы объектно-ориентированного...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">3.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../3/1.html" class="llecture">Лексика языка</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">4.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../4/1.html" class="llecture">Типы данных</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">5.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../5/1.html" class="llecture">Имена. Пакеты</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">6.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../6/1.html" class="llecture">Объявление классов</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">7.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../7/1.html" class="llecture">Преобразование типов</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">8.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../8/1.html" class="llecture">Объектная модель в Java</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">9.</td>
		<td>&nbsp;</td>
<td class="llecture">

Массивы



</td>
		</tr>




		<tr valign=top>

		<td class="llecture">10.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../10/1.html" class="llecture">Операторы и структура кода. Искл...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">11.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../11/1.html" class="llecture">Пакет java.awt</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">12.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../12/1.html" class="llecture">Потоки выполнения. Синхронизация</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">13.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../13/1.html" class="llecture">Пакет java.lang</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">14.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../14/1.html" class="llecture">Пакет java.util</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">15.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../15/1.html" class="llecture">Пакет java.io</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">16.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../16/1.html" class="llecture">Введение в сетевые протоколы</a>
</td>
		</tr>






<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="http://www.intuit.ru/department/pl/javapl/class/examination/" class="llecture">Экзамен</a></td>
		</tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a class="llecture_red" href="http://www.intuit.ru/department/pl/javapl/class/examination_extern/">Сдать экзамен экстерном</a></td>
		</tr>

<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../lit.html" class="llecture">Литература</a></td>
		</tr>





		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../keywords.html" class="llecture">Предметный указатель</a></td>
		</tr>



		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../examples.html" class="llecture">Примеры</a></td>
		</tr>


		</table><br>
	</td>
	</tr>


	

	<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Общение</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/classmates/" class="spec">однокурсники</a></td>
		</tr>
		

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/forum/" class="spec">форум по курсу</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/question_for_lector/" class="spec">вопрос преподавателю</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/opinions/" class="spec">мнения о курсе</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/rating/" class="spec">рейтинг выпускников</a></td>
		</tr>


		</table><br>
	</td>
	</tr>



<tr><td height="1"><a href="../robot.html"><img src="../../../img/empty.gif" width="1" height="1" border="0"></a></td></tr>

	</table>

	<!-- #include virtual="~/inc/leftcolumn.html" -->
	<!-- /leftcolumn -->	
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td>
	<!-- content -->
	<table border="0" cellpadding="0" cellspacing="0" width="100%">
	<tr><td class="head" colspan=2>Программирование на Java</td></tr>
<tr><td colspan=2 height="4"><img src="../../../img/empty.gif" width="1" height="4"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>




<tr>
<td colspan="2" align=left class="headsub">Лекция #9: Массивы</td>
</tr>

<tr><td height="6" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>


<tr>

<td align=left><font class="rtitle">Страницы:</font>


<font class="rtitle">1</font>

<font class="stitle">|</font>


<a class="rtitle" href="2.html">2</a>
<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>


<a class="rtitle" href="4.html">4</a>
<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/9/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="2.html"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/9/javapl_9.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>


	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/9/1.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2>
<h3 >Массивы как тип данных в Java</h3>
        
        <p >В отличие от обычных переменных, которые хранят только одно значение, массивы (arrays) используются для хранения целого набора значений. Количество значений в массиве называется его длиной, сами значения – элементами массива. Значений может не быть вовсе, в этом случае массив считается пустым, а его длина равной нулю.</p>
        <p >Элементы не имеют имен, доступ к ним осуществляется по номеру индекса. Если массив имеет длину <span class="texample">n</span>, отличную от нуля, то корректными значениями индекса являются числа от <span class="texample">0</span> до <span class="texample">n-1</span>. Все значения имеют одинаковый тип и говорится, что массив основан на этом базовом типе. Массивы могут быть основаны как на примитивных типах (например, для хранения числовых значений 100 измерений), так и на ссылочных (например, если нужно хранить описание 100 автомобилей в гараже в виде экземпляров класса <span class="texample">Car</span>).</p>
        <p >Сразу оговоримся, что в Java массив символов <span class="texample">char[]</span> и класс <span class="texample">String</span> являются различными типами. Их значения могут легко конвертироваться друг в друга с помощью специальных методов, но все же они не относятся к идентичным типам.</p>
        <p >Как уже говорилось, массивы в Java являются объектами (примитивных типов в Java всего восемь и их количество не меняется), их тип напрямую наследуется от класса <span class="texample">Object</span>, поэтому все элементы данного класса доступны у объектов-массивов.</p>
        <p >Базовый тип также может быть массивом. Таким образом конструируется массив массивов, или многомерный массив.</p>
        <p >Работа с любым массивом включает обычные операции, уже описанные для других типов, - объявление, инициализация и т.д. Начнем последовательно изучать их в приложении к массивам.</p>
        <h4 >Объявление массивов</h4>
            
            <p >В качестве примера рассмотрим объявление переменной типа "массив, основанный на примитивном типе <span class="texample">int</span>":</p>
            <div  class="example"><pre>
int a[]; 
</pre></div>
            <p >Как мы видим, сначала указывается базовый тип. Затем идет имя переменной, а пара квадратных скобок указывает на то, что используемый тип является именно массивом. Также допустима запись:</p>
            <div  class="example"><pre>
int[] a;  
</pre></div>
            <p >Количество пар квадратных скобок указывает на размерность массива. Для многомерных массивов допускается смешанная запись:</p>
            <div  class="example"><pre>
int[] a[];  
</pre></div>
            <p >Переменная a имеет тип "двумерный массив, основанный на <span class="texample">int</span>". Аналогично объявляются массивы с базовым объектным типом:</p>
            <div  class="example"><pre>
Point p, p1[], p2[][];  
</pre></div>
            <p >Создание переменной типа массив еще не создает экземпляры этого массива. Такие переменные имеют объектный тип и хранят ссылки на объекты, однако изначально имеют значение <span class="texample">null</span> (если они являются полями класса; напомним, что локальные переменные необходимо явно инициализировать). Чтобы создать экземпляр массива, нужно воспользоваться ключевым словом <span class="texample">new</span>, после чего указывается тип массива и в квадратных скобках – длина массива.</p>
            <div  class="example"><pre>
int a[]=new int[5];
Point[] p = new Point[10];   
</pre></div>
            <p >Переменная инициализируется ссылкой, указывающей на только что созданный массив. После его создания можно обращаться к элементам, используя ссылку на массив, далее в квадратных скобках указывается индекс элемента. Индекс меняется от нуля, пробегая всю длину массива, до максимально допустимого значения, на единицу меньшего длины массива.</p>
            <div  class="example"><pre>
int array[]=new int[5];
   for (int i=0; i&lt;5; i++) {
     array[i]=i*i;
}
for (int j=0; j&lt;6; j++) {
   System.out.println(j+"*"+j+"="+array[j]);
}  
</pre></div>
            <p >Результатом выполнения программы будет:</p>
            <div  class="example"><pre>
0*0=0
1*1=1
2*2=4
3*3=9
4*4=16      
</pre></div>
            <p >И далее появится ошибка времени исполнения, так как индекс превысит максимально возможное для такого массива значение. Проверка, не выходит ли индекс за допустимые пределы, происходит только во время исполнения программы, т.е. компилятор не пытается выявить эту ошибку даже в таких явных случаях, как:</p>
            <div  class="example"><pre>
int i[]=new int[5];
i[-2]=0;   // ошибка! индекс не может 
           // быть отрицательным       
</pre></div>
            <p >Ошибка возникнет только на этапе выполнения программы. </p>
            <p >Хотя при создании массива необходимо указывать его длину, это значение не входит в определение типа массива, важна лишь размерность. Таким образом, одна переменная может ссылаться на массивы разной длины:</p>
            <div  class="example"><pre>
int i[]=new int[5];
...
i=new int[7];   // переменная та же, длина 
                // массива другая        
</pre></div>
            <p >Однако для объекта массива длина обязательно должна указываться при создании и уже никак не может быть изменена. В последнем примере для присвоения переменной ссылки на массив большей длины потребовалось создать новый экземпляр.</p>
            <p >Поскольку для экземпляра массива длина является постоянной характеристикой, для всех массивов существует специальное поле <span class="texample">length</span>, позволяющее узнать ее значение. Например:</p>
            <div  class="example"><pre>
Point p[]=new Point[5];
for (int i=0; i&lt;p.length; i++) {
   p[i]=new Point(i, i);
}         
</pre></div>
            <p >Значение индекса массива всегда имеет тип <span class="texample">int</span>. При обращении к элементу можно также использовать <span class="texample">byte</span>, <span class="texample">short</span> или <span class="texample">char</span>, поскольку эти типы автоматически расширяются до <span class="texample">int</span>. Попытка задействовать <span class="texample">long</span> приведет к ошибке компиляции.</p>
            <p >Соответственно, и поле <span class="texample">length</span> имеет тип <span class="texample">int</span>, а теоретическая максимально возможная длина массива равняется 
			<span class="texample">2<sup>31</sup>-1</span>, то есть немногим больше 2 млрд.</p>
            <p >Продолжая рассматривать тип массива, подчеркнем, что в качестве базового типа может использоваться любой тип Java, в том числе:</p>
            <ul >
                <li>интерфейсы. В таком случае элементы массива могут иметь значение <span class="texample">null</span> или ссылаться на объекты любого класса, реализующего этот интерфейс;</li>
                <li>абстрактные классы. В этом случае элементы массива могут иметь значение <span class="texample">null</span> или ссылаться на объекты любого неабстрактного класса-наследника.</li>
            </ul>
            <p >Поскольку массив является объектным типом данных, его значения могут быть приведены к типу <span class="texample">Object</span> или, что то же самое, присвоены переменной типа <span class="texample">Object</span>. Например,</p>
            <div  class="example"><pre>
Object o = new int[4];
</pre></div>
            <p >Это дает интересную возможность для массивов, основанных на типе <span class="texample">Object</span>, хранить в качестве элемента ссылку на самого себя:</p>
            <div  class="example"><pre>
Object arr[] = new Object[3];
arr[0]=new Object();
arr[1]=null;
arr[2]=arr;   // Элемент ссылается 
              // на весь массив! 
</pre></div>
        
        <h4 >Инициализация массивов</h4>
            
            <p >Теперь, когда мы выяснили, как создавать экземпляры массива, рассмотрим, какие значения принимают его элементы.</p>
            <p >Если создать массив на основе примитивного числового типа, то изначально после создания все элементы массива имеют значение по умолчанию, то есть <span class="texample">0</span>. Если массив объявлен на основе примитивного типа <span class="texample">boolean</span>, то и в этом случае все элементы будут иметь значение по умолчанию <span class="texample">false</span>. Выше рассматривался пример инициализации элементов с помощью цикла <span class="texample">for</span>.</p>
            <p >Рассмотрим создание массива на основе ссылочного типа. Предположим, это будет класс <span class="texample">Point</span>. При создании экземпляра массива с применением ключевого слова <span class="texample">new</span> не создается ни один объект класса <span class="texample">Point</span>, создается лишь один объект массива. Каждый элемент массива будет иметь пустое значение <span class="texample">null</span>. В этом можно убедиться на простом примере:</p>
            <div  class="example"><pre>
Point p[]=new Point[5];
for (int i=0; i&lt;p.length; i++) {
   System.out.pritnln(p[i]);
} 
</pre></div>
            <p >Результатом будут лишь слова <span class="texample">null</span>. </p>
            <p >Далее нужно инициализировать элементы массива по отдельности, например, в цикле. Вообще, создание массива длиной <span class="texample">n</span> можно рассматривать как заведение <span class="texample">n</span> переменных и работать с элементами массива (в последнем примере <span class="texample">p[i]</span>) по правилам обычных переменных.</p>
            <p >Кроме того, существует и другой способ создания массивов – инициализаторы. В этом случае ключевое слово <span class="texample">new</span> не используется, а ставятся фигурные скобки, и в них через запятую перечисляются значения всех элементов массива. Например, для числового массива явная инициализация записывается следующим образом:</p>
            <div  class="example"><pre>
int i[]={1, 3, 5};
int j[]={};   // эквивалентно new int[0] 
</pre></div>
            <p >Длина массива вычисляется автоматически, исходя из количества введенных значений. Далее создается массив такой длины и каждому его элементу присваивается указанное значение.</p>
            <p >Аналогично можно порождать массивы на основе объектных типов, например:</p>
            <div  class="example"><pre>
Point p=new Point(1,3);
Point arr[]={p, new Point(2,2), null, p};
// или
String sarr[]={"aaa", "bbb", "cde"+"xyz"};
</pre></div>
            <p >Однако инициализатор нельзя использовать для анонимного создания экземпляров массива, то есть не для инициализации переменной, а, например, для передачи параметров метода или конструктора.</p>
            <p >Например:</p>
            <div  class="example"><pre>
public class Parent {
   private String[] values;

   protected Parent(String[] s) {
      values=s;
   }
}

public class Child extends Parent {

   public Child(String firstName, 
                String lastName) {
      super(???);   
      // требуется анонимное создание массива
   }
}
</pre></div>
            <p >В конструкторе класса <span class="texample">Child</span> необходимо осуществить обращение к конструктору родителя и передать в качестве параметра ссылку на массив. Теоретически можно передать <span class="texample">null</span>, но это приведет в большинстве случаев к некорректной работе классов. Можно вставить выражение <span class="texample">new String[2]</span>, но тогда вместо значений <span class="texample">firstName</span> и <span class="texample">lastName</span> будут переданы пустые строки. Попытка записать <span class="texample">{firstName, lastName}</span> приведет к ошибке компиляции, так можно только инициализировать переменные.</p>
            <p >Корректное выражение выглядит так:</p>
            <div  class="example"><pre>
new String[]{firstName, lastName}
</pre></div>
            <p >Что является некоторой смесью выражения, создающего массивы с помощью <span class="texample">new</span>, и инициализатора. Длина массива определяется количеством указанных значений.</p>
        
        <h4 >Многомерные массивы</h4>
            
            <p >Теперь перейдем к рассмотрению многомерных массивов. Так, в следующем примере</p>
            <div  class="example"><pre>
int i[][]=new int[3][5]; 
</pre></div>
            <p >переменная <span class="texample">i</span> ссылается на двумерный массив, который можно представить себе в виде таблицы <span class="texample">3х5</span>. Суммарно в таком массиве содержится 15 элементов, к которым можно обращаться через комбинацию индексов от <span class="texample">(0, 0)</span> до <span class="texample">(2, 4)</span>. Пример заполнения двумерного массива через цикл:</p>
            <div  class="example"><pre>
int pithagor_table[][]=new int[5][5];
for (int i=0; i&lt;5; i++) {
   for (int j=0; j&lt;5; j++) {
      pithagor_table[i][j]=i*j;
      System.out.print(pithagor_table[i][j] +
        "\t");
   }
   System.out.println();
}   
</pre></div>
            <p >Результатом выполнения программы будет:</p>
            <div  class="example"><pre>
0    0    0    0    0 
0    1    2    3    4 
0    2    4    6    8 
0    3    6    9    12 
0    4    8    12   16 
</pre></div>
            <p >Однако такой взгляд на двумерные и многомерные массивы является неполным. Более точный подход заключается в том, что в Java нет двумерных, и вообще многомерных массивов, а есть массивы, базовыми типами которых являются также массивы. Например, тип <span class="texample">int[]</span> означает "массив чисел", а <span class="texample">int[][]</span> означает "массив массивов чисел". Поясним такую точку зрения.</p>
            <p >Если создать двумерный массив и определить переменную <span class="texample">x</span>, которая на него ссылается, то, используя <span class="texample">x</span> и два числа в паре квадратных скобок каждое (например, <span class="texample">x[0][0]</span>), можно обратиться к любому элементу двумерного массива. Но в то же время, используя x и одно число в паре квадратных скобок, можно обратиться к одномерному массиву, который является элементом двумерного массива. Его можно проинициализировать новым массивом с некоторой другой длиной и таблица перестанет быть прямоугольной – она примет произвольную форму. В частности, можно одному из одномерных массивов присвоить даже значение <span class="texample">null</span>.</p>
            <div  class="example"><pre>
int x[][]=new int[3][5];   
   // прямоугольная таблица
x[0]=new int[7];
x[1]=new int[0];
x[2]=null; 
</pre></div>
            <p >После таких операций массив, на который ссылается переменная <span class="texample">x</span>, назвать прямоугольным никак нельзя. Зато хорошо видно, что это просто набор одномерных массивов или значений <span class="texample">null</span>.</p>
            <p >Полезно подсчитать, сколько объектов порождается выражением <span class="texample">new int[3][5]</span>. Правильный подсчет таков: создается один массив массивов (один объект) и три массива чисел, каждый длиной <span class="texample">5</span> (три объекта). Итого, четыре объекта.</p>
            <p >В рассмотренном примере три из них (массивы чисел) были тут же переопределены новыми значениями. Для таких случаев полезно использовать упрощенную форму выражения создания массивов:</p>
            <div  class="example"><pre>
int x[][]=new int[3][];
</pre></div>
            <p >Такая запись порождает один объект – массив массивов – и заполняет его значениями <span class="texample">null</span>. Теперь понятно, что и в этом, и в предыдущем варианте выражение <span class="texample">x.length</span> возвращает значение <span class="texample">3</span> – длину массива массивов. Далее можно с помощью выражений <span class="texample">x[i].length</span> узнать длину каждого вложенного массива чисел, при условии, что <span class="texample">i</span> неотрицательно и меньше <span class="texample">x.length</span>, а также <span class="texample">x[i]</span> не равно <span class="texample">null</span>. Иначе будут возникать ошибки во время выполнения программы.</p>
            <p >Вообще, при создании многомерных массивов с помощью <span class="texample">new</span> необходимо указывать все пары квадратных скобок, соответственно количеству измерений. Но заполненной обязательно должна быть лишь крайняя левая пара, это значение задаст длину верхнего массива массивов. Если заполнить следующую пару, то этот массив заполнится не значениями по умолчанию <span class="texample">null</span>, а новыми созданными массивами с меньшей на единицу размерностью. Если заполнена вторая пара скобок, то можно заполнить третью, и так далее.</p>
            <p >Аналогично, для создания многомерных массивов можно использовать инициализаторы. В этом случае применяется столько вложенных фигурных скобок, сколько требуется:</p>
            <div  class="example"><pre>
int i[][] = {{1,2}, null, {3}, {}};
</pre></div>
            <p >В этом примере порождается четыре объекта. Это, во-первых, массив массивов длиной 4, а во-вторых, три массива чисел с длинами 2, 1, 0, соответственно.</p>
            <p >Все рассмотренные примеры и утверждения одинаково верны для многомерных массивов, основанных как на примитивных, так и на ссылочных типах.</p>
        
        <h4 >Класс массива</h4>
            
            <p >Поскольку массив является объектным типом данных, можно попытаться представить себе, как выглядело бы объявление класса такого типа. На самом деле эти объявления не хранятся в файлах, или еще каком-нибудь формате. Учитывая, что массив может быть объявлен на основе любого типа и иметь произвольную размерность, это физически невыполнимо, да и не требуется. Вместо этого во время выполнения приложения виртуальная машина генерирует эти объявления динамически на основе базового типа и размерности, а затем они хранятся в памяти в виде таких же экземпляров класса <span class="texample">Class</span>, как и для любых других типов.</p>
            <p >Рассмотрим гипотетическое объявление класса для массива, основанного на неком объектном типе <span class="texample">Element</span>.</p>
            <p >Объявление класса начинается с перечисления модификаторов, среди которых особую роль играют модификаторы доступа. Класс массива будет иметь такой же уровень доступа, как и базовый тип. То есть если <span class="texample">Element</span> объявлен как <span class="texample">public</span>-класс, то и массив будет иметь уровень доступа <span class="texample">public</span>. Для любого примитивного типа класс массива будет <span class="texample">public</span>. Можно также указать модификатор <span class="texample">final</span>, поскольку никакой класс не может наследоваться от класса массива.</p>
            <p >Затем следует имя класса, на котором можно подробно не останавливаться, т.к. к типу массив обращение идет не по его имени, а по имени базового типа и набору квадратных скобок.</p>
            <p >Затем нужно указать родительский класс. Все массивы наследуются напрямую от класса <span class="texample">Object</span>. Далее перечисляются интерфейсы, которые реализует класс. Для массива это будут интерфейсы <span class="texample">Cloneable</span> и <span class="texample">Serializable</span>. Первый из них подробно рассматривается в конце этой лекции, а второй будет описан в следующих лекциях.</p>
            <p >Тело класса содержит объявление одного <span class="texample">public final</span> поля <span class="texample">length</span> типа <span class="texample">int</span>. Кроме того, переопределен метод <span class="texample">clone()</span> для поддержки интерфейса <span class="texample">Cloneable</span>.</p>
            <p >Сведем все вышесказанное в формальную запись класса:</p>
            <div  class="example"><pre>
[public] class A implements Cloneable, 
               java.io.Serializable {
  public final int length;   
    // инициализируется при создании
  public Object clone() {
    try { return super.clone();} 
    catch (CloneNotSupportedException e) {
      throw new InternalError(e.getMessage());
   }
 }
}       
</pre></div>
            <p >Таким образом, экземпляр типа массив является полноценным объектом, который, в частности, наследует все методы, определенные в классе <span class="texample">Object</span>, например, <span class="texample">toString()</span>, <span class="texample">hashCode()</span> и остальные.</p>
            <p >Например:</p>
            <div  class="example"><pre>
// результат работы метода toString()
System.out.println(new int[3]);
System.out.println(new int[3][5]);
System.out.println(new String[2]);

// результат работы метода hashCode()
System.out.println(new float[2].hashCode());
</pre></div>
            <p >Результатом выполнения программы будет:</p>
            <div  class="example"><pre>
[I@26b249
[[I@82f0db
[Ljava.lang.String;@92d342
7051261 
</pre></div>
        



    
	</td>		
	</tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2 align="center">

<a href="2.html" class="attention">Перейти к следующей странице &raquo;</b></a>

	</td></tr>
	<tr><td height="16" colspan=2><img src="../../../img/empty.gif" width="1" height="16"></td></tr>

<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/9/1.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr>

<td align=left><font class="rtitle">Страницы:</font>


<font class="rtitle">1</font>

<font class="stitle">|</font>


<a class="rtitle" href="2.html">2</a>
<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>


<a class="rtitle" href="4.html">4</a>
<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/9/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="2.html"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/9/javapl_9.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	</table>
	<!-- /content -->

</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- rightcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">
	<!---->


		<tr><td class="bordo" height="24">&nbsp;&nbsp;Информация о лекции</td></tr>
	<tr>
	<td>
<span class="rtxt">Лекция посвящена описанию массивов в Java. Массивы издавна присутствуют в языках программирования, поскольку при выполнении многих задач приходится оперировать целым рядом однотипных значений.<br>
Массивы в Java – один из ссылочных типов, который, однако, имеет особенности при инициализации, создании и оперировании со своими значениями. Наибольшие различия проявляются при преобразовании таких типов. Также объясняется, почему многомерные массивы в Java можно (и зачастую более правильно) рассматривать как одномерные. Завершается классификация типов переменных и типов значений, которые они могут хранить.<br>
В заключение рассматривается механизм клонирования Java, позволяющий в любом классе описать возможность создания точных копий объектов, порожденных от него.

	</td>
	</tr>
	<tr><td>&nbsp;</td></tr>

	

	
	<td class="bordo" height="24">&nbsp;&nbsp;Учебники к курсу</td>
	</tr>
	<tr>
<td>

		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td>

<table border="0" cellpadding="1" cellspacing="0"  align="left" hspace="5" vspace="2"><tr><td class="orang"><table border="0" cellpadding="2" cellspacing="0" bgcolor="#ffffff"><tr><td valign="middle" align="center"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325"><img width="72" height="105" src="../../../img/covers/i/in/int/intu006.jpg" alt="Программирование на Java" border="0"></a></td></tr></table></td></tr></table>

<a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325" class="spectitle">
Программирование на Java</a>
<br>
<font class="spectxt">
Вязовик Н.А.,
<br>
Интернет-университет информационных технологий - ИНТУИТ.ру.
<br>
Курс лекций посвящен современному и мощному языку программирования Java. В его рамках дается вводное изложение принципов ООП, необходимое для разработки на Java, основы языка, библиотеки для работы с файлами, сетью, для построения оконного интерфейса пользователя (GUI) и др.

</font>
		</td>
		</tr>

		</table>

</td>
	</tr>


	<tr><td height="10"><img src="../../../img/empty.gif" width="1" height="10"></td></tr>



	<tr>
<td>
		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td class="spectxt">
<span class="spectitle"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=1412049" class="spectitle">Приемы объектно-ориентированного проектирования. Паттерны проектирования</a></span>
<br>
Гамма Э. и др.,
Питер.
		</td>
		</tr>


		</table>

</td>
	</tr>


<tr>
<td><a href="http://www.intuit.ru/cgi-bin/goto.fcgi?mode=books_of_course&cid=57" class="allnews">все книги по курсу &raquo;</a></td>
</tr>



	</table>
	<!-- /rightcolumn -->
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
</tr>
</table>

<!-- /bottom -->
<table border="0" cellpadding="0" cellspacing="6" width="100%" height="73">
<tr>
<td align="center" class="menu">
    <table border="0" cellpadding="0" cellspacing="0" background="">
    <tr>
    <td class="copy">
    <a href="http://www.intuit.ru/all_departments.html" class="bot">Кафедры</a> |
    <a href="http://www.intuit.ru/all_courses.html" class="bot">Все курсы</a> |
    <a href="http://www.intuit.ru/syllabus.html" class="bot">Расписание</a> |
    <a href="http://www.intuit.ru/shop/catalog/index.html?" class="bot">Учебники</a> | 
    <a href="http://www.intuit.ru/news.html" class="bot">Новости</a> | 
    <a href="http://www.intuit.ru/department/forum/" class="bot">Форум</a>
    <br>
    <a href="http://www.intuit.ru/user/classes/" class="bot">Мои курсы</a> | 
    <a href="http://www.intuit.ru/user/adjustments/" class="bot">Личные настройки</a> | 
    <a href="http://www.intuit.ru/user/cart/" class="bot">Корзина</a> | 
    <a href="http://www.intuit.ru/help/" class="bot">Помощь</a><br><br>
    Телефон: (095) 253-9312, 253-9313, факс: (095) 253-9310, email: <a href="http://www.intuit.ru/help/askform.xhtml" class="bot">info@intuit.ru</a><br>
    Адрес: 123056 Москва, Электрический пер., 8, стр. 3<br>
    &copy; 2003-2004 INTUIT.ru. Все права защищены.
    </td>
    </tr>
    </table>
</td>
</tr>
</table>
<!-- /bottom -->


</body>
</html>
