<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>INTUIT.ru::Интернет-Университет Информационных Технологий</title>
<link rel="shortcut icon" href="http://www.intuit.ru/favicon.ico">


<META http-equiv="Pragma" CONTENT="no-cache">
<META http-equiv="Cache-Control" CONTENT="no-cache, must-revalidate">
<META NAME="Pragma" CONTENT="no-cache">
<META NAME="Cache-Control" CONTENT="no-cache">
<link href="../../../ssi/style.css" type="text/css" rel="stylesheet">
</head>
<body leftmargin="0" topmargin="6" marginheight="6" marginwidth="0" bgcolor="white">

<!-- header -->
<!---->
<table border="0" cellpadding="8" cellspacing="0" width="100%">
<tr valign="top">
<td><a href="http://www.intuit.ru/"><img src="../../../img/logo.gif" border="0" width="285" height="52" alt="Интернет Университет информационных технологий"></a></td>
<!---->
</tr>
</table>

<!-- /header -->

<!-- /menu -->
<table border="0" cellpadding="" cellspacing="6" width="100%">
<tr>
<td align="center" class="menu">
	<table border="0" cellpadding="0" cellspacing="0" background="" height="31">
	<tr>
	<td><a href="http://www.intuit.ru/speciality/" class="menu">Учебные программы</a></td>
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_departments.html" class="menu">Кафедры</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_courses.html" class="menu">Все курсы</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/syllabus.html" class="menu">Расписание</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/shop/" class="menu">Учебники</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/news.html" class="menu">Новости</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/department/forum/" class="menu">Форум</a></td>
<!--
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/help/" class="menu">Помощь</a></td>		
-->
	</tr>
	</table>	

</td>
</tr>
</table>
<!-- /menu -->


<table border="0" cellpadding="0" cellspacing="0" width="100%" height="73">
<tr valign="top">
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- leftcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">

		<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Лекции</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>

		<td colspan=3>
<a href="../index.html" class="spec">Программирование на Java</a>


</td>
		</tr>
<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">1.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../1/1.html" class="llecture">Что такое Java? История создания</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">2.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../2/1.html" class="llecture">Основы объектно-ориентированного...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">3.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../3/1.html" class="llecture">Лексика языка</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">4.</td>
		<td>&nbsp;</td>
<td class="llecture">


<a href="../4/1.html" class="llecture_selected">Типы данных</a>


</td>
		</tr>




		<tr valign=top>

		<td class="llecture">5.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../5/1.html" class="llecture">Имена. Пакеты</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">6.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../6/1.html" class="llecture">Объявление классов</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">7.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../7/1.html" class="llecture">Преобразование типов</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">8.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../8/1.html" class="llecture">Объектная модель в Java</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">9.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../9/1.html" class="llecture">Массивы</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">10.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../10/1.html" class="llecture">Операторы и структура кода. Искл...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">11.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../11/1.html" class="llecture">Пакет java.awt</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">12.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../12/1.html" class="llecture">Потоки выполнения. Синхронизация</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">13.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../13/1.html" class="llecture">Пакет java.lang</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">14.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../14/1.html" class="llecture">Пакет java.util</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">15.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../15/1.html" class="llecture">Пакет java.io</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">16.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../16/1.html" class="llecture">Введение в сетевые протоколы</a>
</td>
		</tr>






<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="http://www.intuit.ru/department/pl/javapl/class/examination/" class="llecture">Экзамен</a></td>
		</tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a class="llecture_red" href="http://www.intuit.ru/department/pl/javapl/class/examination_extern/">Сдать экзамен экстерном</a></td>
		</tr>

<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../lit.html" class="llecture">Литература</a></td>
		</tr>





		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../keywords.html" class="llecture">Предметный указатель</a></td>
		</tr>



		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../examples.html" class="llecture">Примеры</a></td>
		</tr>


		</table><br>
	</td>
	</tr>


	

	<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Общение</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/classmates/" class="spec">однокурсники</a></td>
		</tr>
		

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/forum/" class="spec">форум по курсу</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/question_for_lector/" class="spec">вопрос преподавателю</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/opinions/" class="spec">мнения о курсе</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/rating/" class="spec">рейтинг выпускников</a></td>
		</tr>


		</table><br>
	</td>
	</tr>



<tr><td height="1"><a href="../robot.html"><img src="../../../img/empty.gif" width="1" height="1" border="0"></a></td></tr>

	</table>

	<!-- #include virtual="~/inc/leftcolumn.html" -->
	<!-- /leftcolumn -->	
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td>
	<!-- content -->
	<table border="0" cellpadding="0" cellspacing="0" width="100%">
	<tr><td class="head" colspan=2>Программирование на Java</td></tr>
<tr><td colspan=2 height="4"><img src="../../../img/empty.gif" width="1" height="4"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>




<tr>
<td colspan="2" align=left class="headsub">Лекция #4: <a href="../4/1.html">Типы данных</a></td>
</tr>

<tr><td height="6" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>


<tr>

<td align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="3.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>


<a class="rtitle" href="2.html">2</a>
<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>

<font class="rtitle">4</font>

<font class="stitle">|</font>


<a class="rtitle" href="5.html">5</a>
<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/4/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="5.html"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/4/javapl_4.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>


	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/4/4.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2>


    
    <h3 >Ссылочные типы </h3>
        
        <p >Итак, выражение ссылочного типа имеет значение либо <span class="texample">null</span>, либо ссылку, указывающую на некоторый объект в виртуальной памяти JVM.</p>
        <h4 >Объекты и правила работы с ними </h4>
            
            <p >Объект (object) – это экземпляр некоторого класса, или экземпляр массива. Массивы будут подробно рассматриваться в соответствующей лекции. Класс – это описание объектов одинаковой структуры, и если в программе такой класс используется, то описание присутствует в единственном экземпляре. Объектов этого класса может не быть вовсе, а может быть создано сколь угодно много.</p>
            <p >Объекты всегда создаются с использованием ключевого слова <span class="texample">new</span>, причем одно слово <span class="texample">new</span> порождает строго один объект (или вовсе ни одного, если происходит ошибка). После ключевого слова указывается имя класса, от которого мы собираемся породить объект. Создание объекта всегда происходит через вызов одного из конструкторов класса (их может быть несколько), поэтому в заключение ставятся скобки, в которых перечислены значения аргументов, передаваемых выбранному конструктору. В приведенных выше примерах, когда создавались объекты типа <span class="texample">Point</span>, выражение <span class="texample">new Point (3,5)</span> означало обращение к конструктору класса <span class="texample">Point</span>, у которого есть два аргумента типа <span class="texample">int</span>. Кстати, обязательное объявление такого конструктора в упрощенном объявлении класса отсутствовало. Объявление классов рассматривается в следующих лекциях, однако приведем правильное определение <span class="texample">Point</span>:</p>
            <div  class="example"><pre>
class Point {
   int x, y;

   /**
      * Конструктор принимает 2 аргумента,
      * которыми инициализирует поля объекта.
      */
   Point (int newx, int newy){
      x=newx;
      y=newy;
   }
}
      </pre></div>
            <p >Если конструктор отработал успешно, то выражение <span class="texample">new</span> возвращает ссылку на созданный объект. Эту ссылку можно сохранить в переменной, передать в качестве аргумента в какой-либо метод или использовать другим способом. JVM всегда занимается подсчетом хранимых ссылок на каждый объект. Как только обнаруживается, что ссылок больше нет, такой объект предназначается для уничтожения сборщиком мусора (garbage collector). Восстановить ссылку на такой "потерянный" объект невозможно.</p>
            <div  class="example"><pre> 
Point p=new Point(1,2); 
   // Создали объект, получили на него ссылку
Point p1=p;             
   // теперь есть 2 ссылки на точку (1,2)
p=new Point(3,4);       
   // осталась одна ссылка на точку (1,2)
p1=null;
      </pre></div>
            <p >Ссылок на объект-точку <span class="texample">(1,2)</span> больше нет, доступ к нему утерян и он вскоре будет уничтожен сборщиком мусора.</p>
            <p >Любой объект порождается только с применением ключевого слова <span class="texample">new</span>. Единственное исключение – экземпляры класса <span class="texample">String</span>. Записывая любой строковый литерал, мы автоматически порождаем объект этого класса. Оператор конкатенации <span class="texample">+</span>, результатом которого является строка, также неявно порождает объекты без использования ключевого слова <span class="texample">new</span>.</p>
            <p >Рассмотрим пример:</p>
            <div  class="example"><pre> 
"abc"+"def" 
      </pre></div>
            <p >При выполнении этого выражения будет создано три объекта класса <span class="texample">String</span>. Два объекта порождаются строковыми литералами, третий будет представлять результат конкатенации.</p>
            <p >Операция создания объекта – одна из самых ресурсоемких в Java. Поэтому следует избегать ненужных порождений. Поскольку при работе со строками их может создаваться довольно много, компилятор, как правило, пытается оптимизировать такие выражения. В рассмотренном примере, поскольку все операнды являются константами времени компиляции, компилятор сам осуществит конкатенацию и вставит в код уже результат, сократив таким образом количество создаваемых объектов до одного.</p>
            <p >Кроме того, в версии Java 1.1 была введена технология <span class="keyword">reflection</span>, которая позволяет обращаться к классам, методам и полям, используя лишь их имя в текстовом виде. С ее помощью также можно создать объект без ключевого слова <span class="texample">new</span>, однако эта технология довольно специфична, применяется в редких случаях, а кроме того, довольно проста и потому в данном курсе не рассматривается. Все же приведем пример ее применения:</p>
            <div  class="example"><pre> 
Point p = null;
try {
  // в следующей строке, используя лишь 
  // текстовое имя класса Point, порождается
  // объект без применения ключевого слова new
p=(Point)Class.forName("Point").newInstance();

} catch (Exception e) { // обработка ошибок
   System.out.println(e);
}
      </pre></div>
            <p >Объект всегда "помнит", от какого класса он был порожден. С другой стороны, как уже указывалось, можно ссылаться на объект, используя ссылку другого типа. Приведем пример, который будем еще много раз использовать. Сначала опишем два класса, <span class="texample">Parent</span> и его наследник <span class="texample">Child</span>:</p>
            <div  class="example"><pre>
// Объявляем класс Parent
class Parent {
} 

// Объявляем класс Child и наследуем
// его от класса Parent
class Child extends Parent {
} 
      </pre></div>
            <p >Пока нам не нужно определять какие-либо поля или методы. Далее объявим переменную одного типа и проинициализируем ее значением другого типа:</p>
            <div  class="example"><pre> 
Parent p = new Child();
      </pre></div>
            <p >Теперь переменная типа <span class="texample">Parent</span> указывает на объект, порожденный от класса <span class="texample">Child</span>.</p>
            <p >Над ссылочными значениями можно производить следующие операции:</p>
            <ul >
                <li>обращение к полям и методам объекта</li>
                <li>оператор <span class="texample">instanceof</span> (возвращает булевское значение)</li>
                <li>операции сравнения <span class="texample">==</span> и <span class="texample">!=</span> (возвращают булевское значение)</li>
                <li>оператор приведения типов</li>
                <li>оператор с условием <span class="texample">? :</span>
                </li>
                <li>оператор конкатенации со строкой <span class="texample">+</span>
                </li>
            </ul>
            <p >Обращение к полям и методам объекта можно назвать основной операцией над ссылочными величинами. Осуществляется она с помощью символа <span class="texample">.</span> (точка). Примеры ее применения будут приводиться.</p>
            <p >Используя оператор <span class="texample">instanceof</span>, можно узнать, от какого класса произошел объект. Этот оператор имеет два аргумента. Слева указывается ссылка на объект, а справа – имя типа, на совместимость с которым проверяется объект. Например:</p>
            <div  class="example"><pre>
Parent p = new Child();
// проверяем переменную p типа Parent
// на совместимость с типом Child
print(p instanceof Child); 
      </pre></div>
            <p >Результатом будет <span class="texample">true</span>. Таким образом, оператор <span class="texample">instanceof</span> опирается не на тип ссылки, а на свойства объекта, на который она ссылается. Но этот оператор возвращает истинное значение не только для того типа, от которого был порожден объект. Добавим к уже объявленным классам еще один:</p>
            <div  class="example"><pre>
// Объявляем новый класс и наследуем
// его от класса Child
class ChildOfChild extends Child { }
      </pre></div>
            <p >Теперь заведем переменную нового типа:</p>
            <div  class="example"><pre>
Parent p = new ChildOfChild();
print(p instanceof Child); 
      </pre></div>
            <p >В первой строке объявляется переменная типа <span class="texample">Parent</span>, которая инициализируется ссылкой на объект, порожденный от <span class="texample">ChildOfChild</span>. Во второй строке оператор <span class="texample">instanceof</span> анализирует совместимость ссылки типа <span class="texample">Parent</span> с классом <span class="texample">Child</span>, причем задействованный объект не порожден ни от первого, ни от второго класса. Тем не менее, оператор вернет <span class="texample">true</span>, поскольку класс, от которого этот объект порожден, наследуется от <span class="texample">Child</span>.</p>
            <p >Добавим еще один класс:</p>
            <div  class="example"><pre>
class Child2 extends Parent {
} 
      </pre></div>
            <p >И снова объявим переменную типа <span class="texample">Parent</span>:</p>
            <div  class="example"><pre>
Parent p=new Child();
print(p instanceof Child);
print(p instanceof Child2); 
      </pre></div>
            <p >Переменная <span class="texample">p</span> имеет тип <span class="texample">Parent</span>, а значит, может ссылаться на объекты типа <span class="texample">Child</span> или <span class="texample">Child2</span>. Оператор <span class="texample">instanceof</span> помогает разобраться в ситуации:</p>
            <div  class="example"><pre>
true
false 
      </pre></div>
            <p >Для ссылки, равной <span class="texample">null</span>, оператор <span class="texample">instanceof</span> всегда вернет значение <span class="texample">false</span>.</p>
            <p >С изучением свойств объектной модели Java мы будем возвращаться к алгоритму работы оператора <span class="texample">instanceof</span>.</p>
            <p >Операторы сравнения <span class="texample">==</span> и <span class="texample">!=</span> проверяют равенство (или неравенство) объектных величин именно по ссылке. Однако часто требуется альтернативное сравнение – по значению. Сравнение по значению имеет дело с понятием состояние объекта. Сам смысл этого выражения рассматривается в ООП, что же касается реализации в Java, то состояние объекта хранится в его полях. При сравнении по ссылке ни тип объекта, ни значения его полей не учитываются, <span class="texample">true</span> возвращается только в том случае, если обе ссылки указывают на один и тот же объект.</p>
            <div  class="example"><pre>
Point p1=new Point(2,3);
Point p2=p1;
Point p3=new Point(2,3);
print(p1==p2);
print(p1==p3); 
      </pre></div>
            <p >Результатом будет:</p>
            <div  class="example"><pre>
true
false 
      </pre></div>
            <p >Первое сравнение оказалось истинным, так как переменная <span class="texample">p2</span> ссылается на тот же объект, что и <span class="texample">p1</span>. Второе же сравнение ложно, несмотря на то, что переменная <span class="texample">p3</span> ссылается на объект-точку с точно такими же координатами. Однако это другой объект, который был порожден другим выражением <span class="texample">new</span>.</p>
            <p >Если один из аргументов оператора <span class="texample">=</span> равен <span class="texample">null</span>, а другой – нет, то значение такого выражения будет <span class="texample">false</span>. Если же оба операнда <span class="texample">null</span>, то результат будет <span class="texample">true</span>.</p>
            <p >Для корректного сравнения по значению существует специальный метод <span class="texample">equals</span>, который будет рассмотрен позже. Например, строки надо сравнивать следующим образом:</p>
            <div  class="example"><pre>
String s = "abc";
s=s+1;
print(s.equals("abc1")); 
      </pre></div>
            <p >Операция с условием <span class="texample">? :</span> работает как обычно и может принимать второй и третий аргументы, если они оба одновременно ссылочного типа. Результат такого оператора также будет иметь объектный тип.</p>
            <p >Как и простые типы, ссылочные величины можно складывать со строкой. Если ссылка равна <span class="texample">null</span>, то к строке добавляется текст <span class="texample">"null"</span>. Если же ссылка указывает на объект, то у него вызывается специальный метод (он будет рассмотрен ниже, его имя <span class="texample">toString()</span>) и текст, который он вернет, будет добавлен к строке.</p>
        
        <h4 >Класс Object</h4>
            
            <p >В Java множественное наследование отсутствует. Каждый класс может иметь только одного родителя. Таким образом, мы можем проследить цепочку наследования от любого класса, поднимаясь все выше. Существует класс, на котором такая цепочка всегда заканчивается, это класс <span class="texample">Object</span>. Именно от него наследуются все классы, в объявлении которых явно не указан другой родительский класс. А значит, любой класс напрямую, или через своих родителей, является наследником <span class="texample">Object</span>. Отсюда следует, что методы этого класса есть у любого объекта (поля в <span class="texample">Object</span> отсутствуют), а потому они представляют особенный интерес.</p>
            <p >Рассмотрим основные из них.</p>
            <h5 >getClass()</h5>
                
                <p >Этот метод возвращает объект класса <span class="texample">Class</span>, который описывает класс, от которого был порожден этот объект. Класс <span class="texample">Class</span> будет рассмотрен ниже. У него есть метод <span class="texample">getName()</span>, возвращающий имя класса:</p>
                <div  class="example"><pre>
String s = "abc";
Class cl=s.getClass();
print(cl.getName()); 
         </pre></div>
                <p >Результатом будет строка:</p>
                <div  class="example"><pre>
java.lang.String 
         </pre></div>
                <p >В отличие от оператора <span class="texample">instanceof</span>, метод <span class="texample">getClass()</span> всегда возвращает точно тот класс, от которого был порожден объект.</p>
            
            <h5 >equals()</h5>
                
                <p >Этот метод имеет один аргумент типа <span class="texample">Object</span> и возвращает <span class="texample">boolean</span>. Как уже говорилось, <span class="texample">equals()</span> служит для сравнения объектов по значению, а не по ссылке. Сравнивается состояние объекта, у которого вызывается этот метод, с передаваемым аргументом.</p>
                <div  class="example"><pre> 
Point p1=new Point(2,3);
Point p2=new Point(2,3);
print(p1.equals(p2));
         </pre></div>
                <p >Результатом будет <span class="texample">true</span>.</p>
                <p >Поскольку сам <span class="texample">Object</span> не имеет полей, а значит, и состояния, в этом классе метод <span class="texample">equals</span> возвращает результат сравнения по ссылке. Однако при написании нового класса можно переопределить этот метод и описать правильный алгоритм сравнения по значению (что и сделано в большинстве стандартных классов). Соответственно, в класс <span class="texample">Point</span> также необходимо добавить переопределенный метод сравнения:</p>
                <div  class="example"><pre>
public boolean equals(Object o) {
   // Сначала необходимо убедиться, что 
   // переданный объект совместим с типом 
   // Point
   if (o instanceof Point) {
      // Типы совместимы, можно провести 
      // преобразование
      Point p = (Point)o;
      // Возвращаем результат сравнения 
      // координат
      return p.x==x &amp;&amp; p.y==y;
   }
   // Если объект не совместим с Point, 
   // возвращаем false
   return false;
}
         </pre></div>
            
            <h5 >hashCode()</h5>
                
                <p >Данный метод возвращает значение <span class="texample">int</span>. Цель <span class="texample">hashCode()</span> – представить любой объект целым числом. Особенно эффективно это используется в хэш-таблицах (в Java есть стандартная реализация такого хранения данных, она будет рассмотрена позже). Конечно, нельзя потребовать, чтобы различные объекты возвращали различные хэш-коды, но, по крайней мере, необходимо, чтобы объекты, равные по значению (метод <span class="texample">equals()</span> возвращает <span class="texample">true</span>), возвращали одинаковые хэш-коды.</p>
                <p >В классе <span class="texample">Object</span> этот метод реализован на уровне JVM. Сама виртуальная машина генерирует число хеш-кодов, основываясь на расположении объекта в памяти.</p>
            
            <h5 >toString()</h5>
                
                <p >Этот метод позволяет получить текстовое описание любого объекта. Создавая новый класс, данный метод можно переопределить и возвращать более подробное описание. Для класса <span class="texample">Object</span> и его наследников, не переопределивших <span class="texample">toString()</span>, метод возвращает следующее выражение:</p>
                <div  class="example"><pre> 
getClass().getName()+"@"+hashCode() 
         </pre></div>
                <p >Метод <span class="texample">getName()</span> класса <span class="texample">Class</span> уже приводился в пример, а хэш-код еще дополнительно обрабатывается специальной функцией для представления в шестнадцатеричном формате.</p>
                <p >Например:</p>
                <div  class="example"><pre>
print(new Object());
         </pre></div>
                <p >Результатом будет:</p>
                <div  class="example"><pre>
java.lang.Object@92d342 
         </pre></div>
                <p >В результате этот метод позволяет по текстовому описанию понять, от какого класса был порожден объект и, благодаря хеш-коду, различать разные объекты, созданные от одного класса.</p>
                <p >Именно этот метод вызывается при конвертации объекта в текст, когда он передается в качестве аргумента оператору конкатенации строк.</p>
            
            <h5 >finalize() </h5>
                
                <p >Данный метод вызывается при уничтожении объекта автоматическим сборщиком мусора (garbage collector). В классе <span class="texample">Object</span> он ничего не делает, однако в классе-наследнике позволяет описать все действия, необходимые для корректного удаления объекта, такие как закрытие соединений с БД, сетевых соединений, снятие блокировок на файлы и т.д. В обычном режиме напрямую этот метод вызывать не нужно, он отработает автоматически. Если необходимо, можно обратиться к нему явным образом.</p>
                <p >В методе <span class="texample">finalize()</span> нужно описывать только дополнительные действия, связанные с логикой работы программы. Все необходимое для удаления объекта JVM сделает сама.</p>
            
        
        <h4 >Класс String </h4>
            
            <p >Как уже указывалось, класс <span class="texample">String</span> занимает в Java особое положение. Экземпляры только этого класса можно создавать без использования ключевого слова new. Каждый строковый литерал порождает экземпляр <span class="texample">String</span>, и это единственный литерал (кроме <span class="texample">null</span>), имеющий объектный тип.</p>
            <p >Затем значение любого типа может быть приведено к строке с помощью оператора конкатенации строк, который был рассмотрен для каждого типа, как примитивного, так и объектного.</p>
            <p >Еще одним важным свойством данного класса является неизменяемость. Это означает, что, породив объект, содержащий некое значение-строку, мы уже не можем изменить данное значение – необходимо создать новый объект.</p>
            <div  class="example"><pre>
String s="a";
s="b"; 
      </pre></div>
            <p >Во второй строке переменная сменила свое значение, но только создав новый объект класса <span class="texample">String</span>.</p>
            <p >Поскольку каждый строковый литерал порождает новый объект, что есть очень ресурсоемкая операция в Java, зачастую компилятор стремится оптимизировать эту работу.</p>
            <p >Во-первых, если используется несколько литералов с одинаковым значением, для них будет создан один и тот же объект.</p>
            <div  class="example"><pre>
String s1 = "abc";
String s2 = "abc";
String s3 = "a"+"bc";
print(s1==s2);
print(s1==s3); 
      </pre></div>
            <p >Результатом будет:</p>
            <div  class="example"><pre>
true
true 
      </pre></div>
            <p >То есть в случае, когда строка конструируется из констант, известных уже на момент компиляции, оптимизатор также подставляет один и тот же объект.</p>
            <p >Если же строка создается выражением, которое может быть вычислено только во время исполнения программы, то оно будет порождать новый объект:</p>
            <div  class="example"><pre>
String s1="abc";
String s2="ab";
print(s1==(s2+"c")); 
      </pre></div>
            <p >Результатом будет <span class="texample">false</span>, так как компилятор не может предсказать результат сложения значения переменной с константой.</p>
            <p >В классе <span class="texample">String</span> определен метод <span class="texample">intern()</span>, который возвращает один и тот же объект-строку для всех экземпляров, равных по значению. То есть если для ссылок <span class="texample">s1</span> и <span class="texample">s2</span> верно выражение <span class="texample">s1.equals(s2)</span>, то верно и <span class="texample">s1.intern()==s2.intern()</span>.</p>
            <p >Разумеется, в классе переопределены методы <span class="texample">equals()</span> и <span class="texample">hashCode()</span>. Метод <span class="texample">toString()</span> также переопределен и возвращает он сам объект-строку, то есть для любой ссылки <span class="texample">s</span> типа <span class="texample">String</span>, не равной <span class="texample">null</span>, верно выражение <span class="texample">s==s.toString()</span>.</p>
        
        <h4 >Класс Class </h4>
            
            <p >Наконец, последний класс, который будет рассмотрен в этой лекции.</p>
            <p >Класс <span class="texample">Class</span> является метаклассом для всех классов Java. Когда JVM загружает файл <span class="texample">.class</span>, который описывает некоторый тип, в памяти создается объект класса <span class="texample">Class</span>, который будет хранить это описание.</p>
            <p >Например, если в программе есть строка</p>
            <div  class="example"><pre>
Point p=new Point(1,2);
      </pre></div>
            <p >то это означает, что в системе созданы следующие объекты:</p>
            <ol >
                <li>объект типа <span class="texample">Point</span>, описывающий точку <span class="texample">(1,2)</span>;</li>
                <li>объект класса <span class="texample">Class</span>, описывающий класс <span class="texample">Point</span>;</li>
                <li>объект класса <span class="texample">Class</span>, описывающий класс <span class="texample">Object</span>. Поскольку класс <span class="texample">Point</span> наследуется от <span class="texample">Object</span>, его описание также необходимо;</li>
                <li>объект класса <span class="texample">Class</span>, описывающий класс <span class="texample">Class</span>. Это обычный Java-класс, который должен быть загружен по общим правилам.</li>
            </ol>
            <p >Одно из применений класса <span class="texample">Class</span> уже было рассмотрено – использование метода <span class="texample">getClass()</span> класса <span class="texample">Object</span>. Если продолжить последний пример с точкой:</p>
            <div  class="example"><pre> 
Class cl=p.getClass();   
   // это объект №2 из списка
Class cl2=cl.getClass();   
   // это объект №4 из списка
Class cl3=cl2.getClass();   
   // опять объект №4 
      </pre></div>
            <p >Выражение <span class="texample">cl2==cl3</span> верно.</p>
            <p >Другое применение класса <span class="texample">Class</span> также приводилось в примере применения технологии reflection.</p>
            <p >Кроме прямого использования метаклассса для хранения в памяти описания классов, Java использует эти объекты и для других целей, которые будут рассмотрены ниже (статические переменные, синхронизация статических методов и т.д.).</p>
        


    
	</td>		
	</tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2 align="center">

<a href="5.html" class="attention">Перейти к следующей странице &raquo;</b></a>

	</td></tr>
	<tr><td height="16" colspan=2><img src="../../../img/empty.gif" width="1" height="16"></td></tr>

<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/4/4.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr>

<td align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="3.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>


<a class="rtitle" href="2.html">2</a>
<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>

<font class="rtitle">4</font>

<font class="stitle">|</font>


<a class="rtitle" href="5.html">5</a>
<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/4/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="5.html"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/4/javapl_4.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	</table>
	<!-- /content -->

</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- rightcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">
	<!---->


<!--Основные понятия-->
	<td class="bordo" height="24">&nbsp;&nbsp;Ключевые слова</td>
	</tr>
	<tr>
	<td><span class="rtxt"><span  class="keyword_list">reflection</span><br ><br ><a  class="allnews" href="../keywords.html">все ключевые слова »</a>
</td>
	</tr>
	<tr><td>&nbsp;</td></tr>
<!--/Основные понятия-->

		<tr><td class="bordo" height="24">&nbsp;&nbsp;Информация о лекции</td></tr>
	<tr>
	<td>
<span class="rtxt">Типы данных определяют основные возможности любого языка. Кроме того, Java является строго типизированным языком, а потому четкое понимание модели типов данных очень помогает в написании качественных программ. Лекция начинается с введения понятия переменной, на примере которой иллюстрируются особенности применения типов в Java. Описывается разделение всех типов на простейшие и ссылочные, операции над значениями различных типов, а также особый класс Class, который играет роль метакласса в Java.

	</td>
	</tr>
	<tr><td>&nbsp;</td></tr>

	

	
	<td class="bordo" height="24">&nbsp;&nbsp;Учебники к курсу</td>
	</tr>
	<tr>
<td>

		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td>

<table border="0" cellpadding="1" cellspacing="0"  align="left" hspace="5" vspace="2"><tr><td class="orang"><table border="0" cellpadding="2" cellspacing="0" bgcolor="#ffffff"><tr><td valign="middle" align="center"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325"><img width="72" height="105" src="../../../img/covers/i/in/int/intu006.jpg" alt="Программирование на Java" border="0"></a></td></tr></table></td></tr></table>

<a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325" class="spectitle">
Программирование на Java</a>
<br>
<font class="spectxt">
Вязовик Н.А.,
<br>
Интернет-университет информационных технологий - ИНТУИТ.ру.
<br>
Курс лекций посвящен современному и мощному языку программирования Java. В его рамках дается вводное изложение принципов ООП, необходимое для разработки на Java, основы языка, библиотеки для работы с файлами, сетью, для построения оконного интерфейса пользователя (GUI) и др.

</font>
		</td>
		</tr>

		</table>

</td>
	</tr>


	<tr><td height="10"><img src="../../../img/empty.gif" width="1" height="10"></td></tr>



	<tr>
<td>
		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td class="spectxt">
<span class="spectitle"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=1412049" class="spectitle">Приемы объектно-ориентированного проектирования. Паттерны проектирования</a></span>
<br>
Гамма Э. и др.,
Питер.
		</td>
		</tr>


		</table>

</td>
	</tr>


<tr>
<td><a href="http://www.intuit.ru/cgi-bin/goto.fcgi?mode=books_of_course&cid=57" class="allnews">все книги по курсу &raquo;</a></td>
</tr>



	</table>
	<!-- /rightcolumn -->
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
</tr>
</table>

<!-- /bottom -->
<table border="0" cellpadding="0" cellspacing="6" width="100%" height="73">
<tr>
<td align="center" class="menu">
    <table border="0" cellpadding="0" cellspacing="0" background="">
    <tr>
    <td class="copy">
    <a href="http://www.intuit.ru/all_departments.html" class="bot">Кафедры</a> |
    <a href="http://www.intuit.ru/all_courses.html" class="bot">Все курсы</a> |
    <a href="http://www.intuit.ru/syllabus.html" class="bot">Расписание</a> |
    <a href="http://www.intuit.ru/shop/catalog/index.html?" class="bot">Учебники</a> | 
    <a href="http://www.intuit.ru/news.html" class="bot">Новости</a> | 
    <a href="http://www.intuit.ru/department/forum/" class="bot">Форум</a>
    <br>
    <a href="http://www.intuit.ru/user/classes/" class="bot">Мои курсы</a> | 
    <a href="http://www.intuit.ru/user/adjustments/" class="bot">Личные настройки</a> | 
    <a href="http://www.intuit.ru/user/cart/" class="bot">Корзина</a> | 
    <a href="http://www.intuit.ru/help/" class="bot">Помощь</a><br><br>
    Телефон: (095) 253-9312, 253-9313, факс: (095) 253-9310, email: <a href="http://www.intuit.ru/help/askform.xhtml" class="bot">info@intuit.ru</a><br>
    Адрес: 123056 Москва, Электрический пер., 8, стр. 3<br>
    &copy; 2003-2004 INTUIT.ru. Все права защищены.
    </td>
    </tr>
    </table>
</td>
</tr>
</table>
<!-- /bottom -->


</body>
</html>
