<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>INTUIT.ru::Интернет-Университет Информационных Технологий</title>
<link rel="shortcut icon" href="http://www.intuit.ru/favicon.ico">


<META http-equiv="Pragma" CONTENT="no-cache">
<META http-equiv="Cache-Control" CONTENT="no-cache, must-revalidate">
<META NAME="Pragma" CONTENT="no-cache">
<META NAME="Cache-Control" CONTENT="no-cache">
<link href="../../../ssi/style.css" type="text/css" rel="stylesheet">
</head>
<body leftmargin="0" topmargin="6" marginheight="6" marginwidth="0" bgcolor="white">

<!-- header -->
<!---->
<table border="0" cellpadding="8" cellspacing="0" width="100%">
<tr valign="top">
<td><a href="http://www.intuit.ru/"><img src="../../../img/logo.gif" border="0" width="285" height="52" alt="Интернет Университет информационных технологий"></a></td>
<!---->
</tr>
</table>

<!-- /header -->

<!-- /menu -->
<table border="0" cellpadding="" cellspacing="6" width="100%">
<tr>
<td align="center" class="menu">
	<table border="0" cellpadding="0" cellspacing="0" background="" height="31">
	<tr>
	<td><a href="http://www.intuit.ru/speciality/" class="menu">Учебные программы</a></td>
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_departments.html" class="menu">Кафедры</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/all_courses.html" class="menu">Все курсы</a></td>	
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/syllabus.html" class="menu">Расписание</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/shop/" class="menu">Учебники</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/news.html" class="menu">Новости</a></td>		
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/department/forum/" class="menu">Форум</a></td>
<!--
	<td><img src="../../../img/separator.gif" width="2" height="18" border="0" hspace="7"></td>
	<td><a href="http://www.intuit.ru/help/" class="menu">Помощь</a></td>		
-->
	</tr>
	</table>	

</td>
</tr>
</table>
<!-- /menu -->


<table border="0" cellpadding="0" cellspacing="0" width="100%" height="73">
<tr valign="top">
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- leftcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">

		<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Лекции</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>

		<td colspan=3>
<a href="../index.html" class="spec">Программирование на Java</a>


</td>
		</tr>
<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">1.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../1/1.html" class="llecture">Что такое Java? История создания</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">2.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../2/1.html" class="llecture">Основы объектно-ориентированного...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">3.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../3/1.html" class="llecture">Лексика языка</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">4.</td>
		<td>&nbsp;</td>
<td class="llecture">


<a href="../4/1.html" class="llecture_selected">Типы данных</a>


</td>
		</tr>




		<tr valign=top>

		<td class="llecture">5.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../5/1.html" class="llecture">Имена. Пакеты</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">6.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../6/1.html" class="llecture">Объявление классов</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">7.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../7/1.html" class="llecture">Преобразование типов</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">8.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../8/1.html" class="llecture">Объектная модель в Java</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">9.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../9/1.html" class="llecture">Массивы</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">10.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../10/1.html" class="llecture">Операторы и структура кода. Искл...</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">11.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../11/1.html" class="llecture">Пакет java.awt</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">12.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../12/1.html" class="llecture">Потоки выполнения. Синхронизация</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">13.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../13/1.html" class="llecture">Пакет java.lang</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">14.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../14/1.html" class="llecture">Пакет java.util</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">15.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../15/1.html" class="llecture">Пакет java.io</a>
</td>
		</tr>




		<tr valign=top>

		<td class="llecture">16.</td>
		<td>&nbsp;</td>
<td class="llecture">

<a href="../16/1.html" class="llecture">Введение в сетевые протоколы</a>
</td>
		</tr>






<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="http://www.intuit.ru/department/pl/javapl/class/examination/" class="llecture">Экзамен</a></td>
		</tr>
		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a class="llecture_red" href="http://www.intuit.ru/department/pl/javapl/class/examination_extern/">Сдать экзамен экстерном</a></td>
		</tr>

<tr valign=top><td colspan="3" height="6"><img src="../../../img/empty.gif" width="1" height="6"></td></tr>

		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../lit.html" class="llecture">Литература</a></td>
		</tr>





		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../keywords.html" class="llecture">Предметный указатель</a></td>
		</tr>



		<tr valign=top>

		<td class="llecture">&nbsp;</td>
<td>&nbsp;</td>

		<td class="llecture"><a href="../examples.html" class="llecture">Примеры</a></td>
		</tr>


		</table><br>
	</td>
	</tr>


	

	<tr valign="middle">
	<td class="orang" height="24">&nbsp;&nbsp;Общение</td>
	</tr>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/classmates/" class="spec">однокурсники</a></td>
		</tr>
		

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/forum/" class="spec">форум по курсу</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/question_for_lector/" class="spec">вопрос преподавателю</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/opinions/" class="spec">мнения о курсе</a></td>
		</tr>

		<tr valign=top>
		<td><img src="../../../img/arrow.gif" border="0" width="6" height="7" hspace="5" vspace="5"></td>
		<td><a href="http://www.intuit.ru/department/pl/javapl/class/rating/" class="spec">рейтинг выпускников</a></td>
		</tr>


		</table><br>
	</td>
	</tr>



<tr><td height="1"><a href="../robot.html"><img src="../../../img/empty.gif" width="1" height="1" border="0"></a></td></tr>

	</table>

	<!-- #include virtual="~/inc/leftcolumn.html" -->
	<!-- /leftcolumn -->	
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td>
	<!-- content -->
	<table border="0" cellpadding="0" cellspacing="0" width="100%">
	<tr><td class="head" colspan=2>Программирование на Java</td></tr>
<tr><td colspan=2 height="4"><img src="../../../img/empty.gif" width="1" height="4"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>




<tr>
<td colspan="2" align=left class="headsub">Лекция #4: <a href="../4/1.html">Типы данных</a></td>
</tr>

<tr><td height="6" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>


<tr>

<td align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="1.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>

<font class="rtitle">2</font>

<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>


<a class="rtitle" href="4.html">4</a>
<font class="stitle">|</font>


<a class="rtitle" href="5.html">5</a>
<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/4/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="3.html"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/4/javapl_4.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>


	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/4/2.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2>


    
    <h3 >Примитивные и ссылочные типы данных </h3>
        
        <p >Теперь на примере переменных можно проиллюстрировать различие между <span class="keyword">примитивными</span> и <span class="keyword">ссылочными</span> типами данных. Рассмотрим пример, когда объявляются две переменные одного типа, приравниваются друг другу, а затем значение одной их них изменяется. Что произойдет со второй переменной?</p>
        <p >Возьмем простой тип <span class="texample">int</span>:</p>
        <div  class="example"><pre>
int a=5;   // объявляем первую переменную и 
           // инициализируем ее
int b=a;   // объявляем вторую переменную и 
           // приравниваем ее к первой
a=3;       // меняем значение первой
print(b);  // проверяем значение второй
   </pre></div>
        <p >Здесь и далее мы считаем, что функция <span class="texample">print(...)</span> позволяет нам некоторым (неважно, каким именно) способом узнать значение ее аргумента (как правило, для этого используют функцию из стандартной библиотеки <span class="texample">System.out.println(...)</span>, которая выводит значение на системную консоль).</p>
        <p >В результате мы увидим, что значение переменной <span class="texample">b</span> не изменилось, оно осталось равным <span class="texample">5</span>. Это означает, что переменные <span class="keyword">простого</span> типа хранят непосредственно свои значения и при приравнивании двух переменных происходит копирование данного значения. Чтобы еще раз подчеркнуть эту особенность, приведем еще один пример:</p>
        <div  class="example"><pre>
byte b=3;
int a=b;
   </pre></div>
        <p >В данном примере происходит преобразование типов (оно подробно рассматривается в соответствующей лекции). Для нас сейчас важно констатировать, что переменная <span class="texample">b</span> хранит значение <span class="texample">3</span> типа <span class="texample">byte</span>, а переменная <span class="texample">a</span> – значение <span class="texample">3</span> типа <span class="texample">int</span>. Это два разных значения, и во второй строке при присваивании произошло копирование.</p>
        <p >Теперь рассмотрим <span class="keyword">ссылочный</span> тип данных. Переменные таких типов всегда хранят ссылки на некоторые объекты. Рассмотрим для примера класс, описывающий точку на координатной плоскости с целочисленными координатами. Описание класса – это отдельная тема, но в нашем простейшем случае оно тривиально:</p>
        <div  class="example"><pre>
class Point {
   int x, y;
}
   </pre></div>
        <p >Теперь составим пример, аналогичный приведенному выше для <span class="texample">int</span>-переменных, считая, что выражение <span class="texample">new Point(3,5)</span> создает новый объект-точку с координатами <span class="texample">(3,5)</span>.</p>
        <div  class="example"><pre>
Point p1 = new Point(3,5);
Point p2=p1;
p1.x=7;
print(p2.x);
   </pre></div>
        <p >В третьей строке мы изменили горизонтальную координату точки, на которую ссылалась переменная <span class="texample">p1</span>, и теперь нас интересует, как это сказалось на точке, на которую ссылается переменная <span class="texample">p2</span>. Проведя такой эксперимент, можно убедиться, что в этот раз мы увидим обновленное значение. То есть объектные переменные после приравнивания остаются "связанными" друг с другом, изменения одной сказываются на другой.</p>
        <p >Таким образом, примитивные переменные являются действительными хранилищами данных. Каждая переменная имеет значение, не зависящее от остальных. Ссылочные же переменные хранят лишь ссылки на объекты, причем различные переменные могут ссылаться на один и тот же объект, как это было в нашем примере. В этом случае их можно сравнить с наблюдателями, которые с разных позиций смотрят на один и тот же объект и одинаково видят все происходящие с ним изменения. Если же один наблюдатель сменит объект наблюдения, то он перестает видеть и изменения, происходящие с прежним объектом:</p>
        <div  class="example"><pre>
Point p1 = new Point(3,5);
Point p2=p1;
p1 = new Point(7,9);
print(p2.x);
   </pre></div>
        <p >В этом примере мы получим <span class="texample">3</span>, то есть после третьей строки переменные <span class="texample">p1</span> и <span class="texample">p2</span> ссылаются на различные объекты и поэтому имеют разные значения.</p>
        <p >Теперь легко понять смысл литерала <span class="texample">null</span>. Такое значение может принять переменная любого ссылочного типа. Это означает, что ее ссылка никуда не указывает, объект отсутствует. Соответственно, любая попытка обратиться к объекту через такую переменную (например, вызвать метод или взять значение поля) приведет к ошибке.</p>
        <p >Также значение <span class="texample">null</span> можно передать в качестве любого объектного аргумента при вызове функций (хотя на практике многие методы считают такое значение некорректным).</p>
        <p >Память в Java с точки зрения программиста представляется не нулями и единицами или набором байтов, а как некое виртуальное пространство, в котором существуют объекты. И доступ к памяти осуществляется не по физическому адресу или указателю, а лишь через ссылки на объекты. Ссылка возвращается при создании объекта и далее может быть сохранена в переменной, передана в качестве аргумента и т.д. Как уже говорилось, допускается наличие нескольких ссылок на один объект. Возможна и противоположная ситуация – когда на какой-то объект не существует ни одной ссылки. Такой объект уже недоступен программе и является "мусором", то есть без толку занимает аппаратные ресурсы. Для их освобождения не требуется никаких усилий. В состав любой виртуальной машины обязательно входит автоматический сборщик мусора <span class="texample">garbage collector</span> – фоновый процесс, который как раз и занимается уничтожением ненужных объектов.</p>
        <p >Очень важно помнить, что объектная переменная, в отличие от примитивной, может иметь значение другого типа, не совпадающего с типом переменной. Например, если тип переменной – некий класс, то переменная может ссылаться на объект, порожденный от наследника этого класса. Все случаи подобного несовпадения будут рассмотрены в следующих разделах курса.</p>
        <p >Теперь рассмотрим <span class="keyword">примитивные</span> и <span class="keyword">ссылочные</span> типы данных более подробно.</p>
   <h4 >Примитивные типы </h4>
        
        <p >Как уже говорилось, существует 8 <span class="keyword">простых типов данных</span>, которые делятся на <span class="keyword">целочисленные</span> (<span class="keyword">integer</span>), <span class="keyword">дробные</span> (<span class="keyword">floating-point</span>) и <span class="keyword">булевские</span> (<span class="keyword">boolean</span>).</p>
	 
        <h4 >Целочисленные типы</h4>
            
            <p ><a name="keyword-context.2"></a>
                <span class="keyword">Целочисленные типы</span> – это <span class="texample">byte, short, int, long</span>, также к ним относят и <span class="texample">char</span>. Первые четыре типа имеют длину 1, 2, 4 и 8 байт соответственно, длина <span class="texample">char</span> – 2 байта, это непосредственно следует из того, что все символы Java описываются стандартом Unicode. Длины типов приведены только для оценки областей значения. Как уже говорилось, память в Java представляется виртуальной и вычислить, сколько физических ресурсов займет та или иная переменная, так прямолинейно не получится.</p>
            <p >4 основных типа являются знаковыми. <span class="texample">char</span> добавлен к целочисленным типам данных, так как с точки зрения JVM символ и его код – понятия взаимооднозначные. Конечно, код символа всегда положительный, поэтому <span class="texample">char</span> – единственный беззнаковый тип. Инициализировать его можно как символьным, так и целочисленным литералом. Во всем остальном <span class="texample">char</span> – полноценный числовой тип данных, который может участвовать, например, в арифметических действиях, операциях сравнения и т.п. В <a href="">таблице 4.1</a> сведены данные по всем разобранным типам:</p>
            <table  border="0" cellpadding="2" cellspacing="1"><caption align="left"><b>
                    Таблица 4.1.
                    Целочисленные типы данных.</b></caption><tr>
                    <th bgcolor="#d8d8d8">Название типа</th>
                    <th bgcolor="#d8d8d8">Длина (байты)</th>
                    <th bgcolor="#d8d8d8">Область значений</th>
                </tr><tr>
                    <td bgcolor="#eaeaea">
                        <span class="texample">byte</span>
                    </td>
                    <td bgcolor="#eaeaea">1</td>
                    <td bgcolor="#eaeaea">
                        <span class="texample">-128 .. 127</span>
                    </td>
                </tr><tr>
                    <td bgcolor="#eaeaea">
                        <span class="texample">short</span>
                    </td>
                    <td bgcolor="#eaeaea">2</td>
                    <td bgcolor="#eaeaea">
                        <span class="texample">-32.768 .. 32.767</span>
                    </td>
                </tr><tr>
                    <td bgcolor="#eaeaea">
                        <span class="texample">int</span>
                    </td>
                    <td bgcolor="#eaeaea">4</td>
                    <td bgcolor="#eaeaea">
                        <span class="texample">-2.147.483.648 .. 2.147.483.647</span>
                    </td>
                </tr><tr>
                    <td bgcolor="#eaeaea">
                        <span class="texample">long</span>
                    </td>
                    <td bgcolor="#eaeaea">8</td>
                    <td bgcolor="#eaeaea">
                        <span class="texample">-9.223.372.036.854.775.808 .. 9.223.372.036.854.775.807</span> (примерно 10<sup>19</sup>)</td>
                </tr><tr>
                    <td bgcolor="#eaeaea">
                        <span class="texample">char</span>
                    </td>
                    <td bgcolor="#eaeaea">2</td>
                    <td bgcolor="#eaeaea">
                        <span class="texample">'\u0000' .. '\uffff'</span>, или <span class="texample">0 .. 65.535</span>
                    </td>
                </tr></table>
            <p >Обратите внимание, что <span class="texample">int</span> вмещает примерно 2 миллиарда, а потому подходит во многих случаях, когда не требуются сверхбольшие числа. Чтобы представить себе размеры типа <span class="texample">long</span>, укажем, что именно он используется в Java для отсчета времени. Как и во многих языках, время отсчитывается от 1 января 1970 года в миллисекундах. Так вот, вместимость <span class="texample">long</span> позволяет отсчитывать время на протяжении миллионов веков(!), причем как в будущее, так и в прошлое.</p>
            <p >Почему были выделены именно эти два типа, <span class="texample">int</span> и <span class="texample">long</span>? Дело в том, что целочисленные литералы имеют тип <span class="texample">int</span> по умолчанию, или тип <span class="texample">long</span>, если стоит буква <span class="texample">L</span> или <span class="texample">l</span>. Именно поэтому корректным литералом считается только такое число, которое укладывается в 4 или 8 байт, соответственно. Иначе компилятор сочтет это ошибкой. Таким образом, следующие литералы являются корректными:</p>
            <div  class="example"><pre>
1
-2147483648
2147483648L
0L
111111111111111111L
        	</pre></div>
            <p >Над целочисленными аргументами можно производить следующие операции:</p>
            <ul >
                <li>операции сравнения (возвращают булевское значение)
        			<ul>
                        <li>
                            <span class="texample">&lt;, &lt;=, &gt;, &gt;= </span>
                        </li>
                        <li>
                            <span class="texample">==, != </span>
                        </li>
                    </ul>
                </li>
                <li>числовые операции (возвращают числовое значение)
        			<ul>
                        <li>унарные операции <span class="texample">+</span> и <span class="texample">-</span>
                        </li>
                        <li>арифметические операции <span class="texample">+, -, *, /, % </span>
                        </li>
                        <li>операции инкремента и декремента (в префиксной и постфиксной форме): <span class="texample">++</span> и <span class="texample">--</span>
                        </li>
                        <li>операции битового сдвига <span class="texample">&lt;&lt;, &gt;&gt;, &gt;&gt;&gt; </span>
                        </li>
                        <li>битовые операции <span class="texample">~, &amp;, |, ^ </span>
                        </li>
                    </ul>
                </li>
                <li>оператор с условием <span class="texample">? : </span>
                </li>
                <li>оператор приведения типов</li>
                <li>оператор конкатенации со строкой <span class="texample">+</span>
                </li>
            </ul>
            <p >Операторы сравнения вполне очевидны и отдельно мы их рассматривать не будем. Их результат всегда <span class="keyword">булевского</span> типа (<span class="texample">true</span> или <span class="texample">false</span>).</p>
            <p >Работа числовых операторов также понятна, к тому же пояснялась в предыдущей лекции. Единственное уточнение можно сделать относительно операторов <span class="texample">+</span> и <span class="texample">-</span>, которые могут быть как бинарными (иметь два операнда), так и унарными (иметь один операнд). Бинарные операнды являются операторами сложения и вычитания, соответственно. Унарный оператор <span class="texample">+</span> возвращает значение, равное аргументу (<span class="texample">+x</span> всегда равно <span class="texample">x</span>). Унарный оператор <span class="texample">-</span>, примененный к значению <span class="texample">x</span>, возвращает результат, равный <span class="texample">0-x</span>. Неожиданный эффект имеет место в том случае, если аргумент равен наименьшему возможному значению примитивного типа.</p>
            <div  class="example"><pre>
int x=-2147483648;   // наименьшее возможное 
                     // значение типа int
int y=-x; 
      </pre></div>
            <p >Теперь значение переменной <span class="texample">y</span> на самом деле равно не <span class="texample">2147483648</span>, поскольку такое число не укладывается в область значений типа <span class="texample">int</span>, а в точности равно значению <span class="texample">x</span>! Другими словами, в этом примере выражение <span class="texample">-x==x</span> истинно!</p>
            <p >Дело в том, что если при выполнении числовых операций над целыми числами возникает переполнение и результат не может быть сохранен в данном примитивном типе, то Java не создает никаких ошибок. Вместо этого все старшие биты, которые превышают вместимость типа, просто отбрасываются. Это может привести не только к потере точной абсолютной величины результата, но даже к искажению его знака, если на месте знакового бита окажется противоположное значение.</p>
            <div  class="example"><pre>
int x= 300000;
print(x*x);
      </pre></div>
            <p >Результатом такого примера будет:</p>
            <div  class="example"><pre>
-194313216 
        	</pre></div>
            <p >Возвращаясь к инвертированию числа <span class="texample">-2147483648</span>, мы видим, что математический результат равен в точности <span class="texample">+2<sup>31</sup></span>, или, в двоичном формате, <span class="texample">1000 0000 0000 0000 0000 0000 0000 0000</span> (единица и 31 ноль). Но тип <span class="texample">int</span> рассматривает первую единицу как знаковый бит, и результат получается равным <span class="texample">-2147483648</span>.</p>
            <p >Таким образом, явное выписывание в коде литералов, которые слишком велики для используемых типов, приводит к ошибке компиляции (см. лекцию 3). Если же переполнение возникает в результате выполнения операции, "лишние" биты просто отбрасываются.</p>
            <p >Подчеркнем, что выражение типа <span class="texample">-5</span> не является целочисленным литералом. На самом деле оно состоит из литерала <span class="texample">5</span> и оператора <span class="texample">-</span>. Напомним, что некоторые литералы (например, <span class="texample">2147483648</span>) могут встречаться только в сочетании с унарным оператором <span class="texample">-</span>.</p>
            <p >Кроме того, числовые операции в Java обладают еще одной особенностью. Хотя целочисленные типы имеют длину 8, 16, 32 и 64 бита, вычисления проводятся только с 32-х и 64-х битной точностью. А это значит, что перед вычислениями может потребоваться преобразовать тип одного или нескольких операндов.</p>
            <p >Если хотя бы один аргумент операции имеет тип <span class="texample">long</span>, то все аргументы приводятся к этому типу и результат операции также будет типа <span class="texample">long</span>. Вычисление будет произведено с точностью в 64 бита, а более старшие биты, если таковые появляются в результате, отбрасываются.</p>
            <p >Если же аргументов типа <span class="texample">long</span> нет, то вычисление производится с точностью в 32 бита, и все аргументы преобразуются в <span class="texample">int</span> (это относится к <span class="texample">byte, short, char</span>). Результат также имеет тип <span class="texample">int</span>. Все биты старше 32-го игнорируются.</p>
            <p >Никакого способа узнать, произошло ли переполнение, нет. Расширим рассмотренный пример:</p>
            <div  class="example"><pre> 
int i=300000;
print(i*i);   // умножение с точностью 32 бита
long m=i;
print(m*m);   // умножение с точностью 64 бита
print(1/(m-i)); // попробуем получить разность
                // значений int и long
      </pre></div>
            <p >Результатом такого примера будет:</p>
            <div  class="example"><pre>
-194313216
90000000000
      </pre></div>
            <p >затем мы получим ошибку деления на ноль, поскольку переменные <span class="texample">i</span> и <span class="texample">m</span> хоть и разных типов, но хранят одинаковое математическое значение и их разность равна нулю. Первое умножение производилось с точностью в 32 бита, более старшие биты были отброшены. Второе – с точностью в 64 бита, ответ не исказился.</p>
            <p >Вопрос приведения типов, и в том числе специальный оператор для такого действия, подробно рассматривается в следующих лекциях. Однако здесь хотелось бы отметить несколько примеров, которые не столь очевидны и могут создать проблемы при написании программ. Во-первых, подчеркнем, что результатом операции с целочисленными аргументами всегда является целое число. А значит, в следующем примере</p>
            <div  class="example"><pre> 
double x = 1/2; 
      </pre></div>
            <p >переменной <span class="texample">x</span> будет присвоено значение <span class="texample">0</span>, а не <span class="texample">0.5</span>, как можно было бы ожидать. Подробно операции с дробными аргументами рассматриваются ниже, но чтобы получить значение <span class="texample">0.5</span>, достаточно написать <span class="texample">1./2</span> (теперь первый аргумент дробный и результат не будет округлен).</p>
            <p >Как уже упоминалось, время в Java измеряется в миллисекундах. Попробуем вычислить, сколько миллисекунд содержится в неделе и в месяце:</p>
            <div  class="example"><pre>
print(1000*60*60*24*7);    
   // вычисление для недели
print(1000*60*60*24*30);   
   // вычисление для месяца 
      </pre></div>
            <p >Необходимо перемножить количество миллисекунд в одной секунде (1000), секунд – в минуте (60), минут – в часе (60), часов – в дне (24) и дней  — в неделе и месяце (7 и 30, соответственно). Получаем:</p>
            <div  class="example"><pre>
604800000
-1702967296
      </pre></div>
            <p >Очевидно, во втором вычислении произошло переполнение. Достаточно сделать последний аргумент величиной типа <span class="texample">long</span>:</p>
            <div  class="example"><pre>
print(1000*60*60*24*30L);   
   // вычисление для месяца
      </pre></div>
            <p >Получаем правильный результат:</p>
            <div  class="example"><pre> 
2592000000
      </pre></div>
            <p >Подобные вычисления разумно переводить на 64-битную точность не на последней операции, а заранее, чтобы избежать переполнения.</p>
            <p >Понятно, что типы большей длины могут хранить больший спектр значений, а потому Java не позволяет присвоить переменной меньшего типа значение большего типа. Например, такие строки вызовут ошибку компиляции:</p>
            <div  class="example"><pre>
// пример вызовет ошибку компиляции
int x=1;
byte b=x;
      </pre></div>
            <p >Хотя для программиста и очевидно, что переменная <span class="texample">b</span> должна получить значение <span class="texample">1</span>, что легко укладывается в тип <span class="texample">byte</span>, однако компилятор не может вычислять значение переменной <span class="texample">x</span> при обработке второй строки, он знает лишь, что ее тип – <span class="texample">int</span>.</p>
            <p >А вот менее очевидный пример:</p>
            <div  class="example"><pre>
// пример вызовет ошибку компиляции
byte b=1;
byte c=b+1; 
      </pre></div>
            <p >И здесь компилятор не сможет успешно завершить работу. При операции сложения значение переменной <span class="texample">b</span> будет преобразовано в тип <span class="texample">int</span> и таким же будет результат сложения, а значит, его нельзя так просто присвоить переменной типа <span class="texample">byte</span>.</p>
            <p >Аналогично:</p>
            <div  class="example"><pre>
// пример вызовет ошибку компиляции
int x=2;
long y=3;
int z=x+y; 
      </pre></div>
            <p >Здесь результат сложения будет уже типа <span class="texample">long</span>. Точно так же некорректна такая инициализация:</p>
            <div  class="example"><pre>
// пример вызовет ошибку компиляции
byte b=5;
byte c=-5;
      </pre></div>
            <p >Даже унарный оператор "<span class="texample">-</span>" проводит вычисления с точностью не меньше 32 бит.</p>
            <p >Хотя во всех случаях инициализация переменных приводилась только для примера, а предметом рассмотрения были числовые операции, укажем корректный способ преобразовать тип числового значения:</p>
            <div  class="example"><pre>
byte b=1;
byte c=(byte)-b; 
      </pre></div>
            <p >Итак, все числовые операторы возвращают результат типа <span class="texample">int</span> или <span class="texample">long</span>. Однако существует два исключения.</p>
            <p >Первое из них – операторы инкрементации и декрементации. Их действие заключается в прибавлении или вычитании единицы из значения переменной, после чего результат сохраняется в этой переменной и значение всей операции равно значению переменной (до или после изменения, в зависимости от того, является оператор префиксным или постфиксным). А значит, и тип значения совпадает с типом переменной. (На самом деле, вычисления все равно производятся с точностью минимум 32 бита, однако при присвоении переменной результата его тип понижается.)</p>
            <div  class="example"><pre>
byte x=5;
byte y1=x++;   
   // на момент начала исполнения x равен 5
byte y2=x--;   
   // на момент начала исполнения x равен 6
byte y3=++x;   
   // на момент начала исполнения x равен 5
byte y4=--x;   
   // на момент начала исполнения x равен 6
print(y1);
print(y2);
print(y3);
print(y4); 
      </pre></div>
            <p >В результате получаем:</p>
            <div  class="example"><pre>
5
6
6
5
      </pre></div>
            <p >Никаких проблем с присвоением результата операторов <span class="texample">++</span> и <span class="texample">--</span> переменным типа <span class="texample">byte</span>. Завершая рассмотрение этих операторов, приведем еще один пример:</p>
            <div  class="example"><pre> 
byte x=-128;
print(-x);

byte y=127;
print(++y);
      </pre></div>
            <p >Результатом будет:</p>
            <div  class="example"><pre>
128
-128 
      </pre></div>
            <p >Этот пример иллюстрирует вопросы преобразования типов при вычислениях и случаи переполнения.</p>
            <p >Вторым исключением является оператор с условием <span class="texample">? :</span>. Если второй и третий операнды имеют одинаковый тип, то и результат операции будет такого же типа.</p>
            <div  class="example"><pre>
byte x=2;
byte y=3;
byte z=(x&gt;y) ? x : y;      
   // верно, x и y одинакового типа
byte abs=(x&gt;0) ? x : -x;   
   // неверно! 
      </pre></div>
            <p >Последняя строка неверна, так как третий аргумент содержит числовую операцию, стало быть, его тип <span class="texample">int</span>, а значит, и тип всей операции будет <span class="texample">int</span>, и присвоение некорректно. Даже если второй аргумент имеет тип <span class="texample">byte</span>, а третий – <span class="texample">short</span>, значение будет типа <span class="texample">int</span>.</p>
            <p >Наконец, рассмотрим оператор конкатенации со строкой. Оператор <span class="texample">+</span> может принимать в качестве аргумента строковые величины. Если одним из аргументов является строка, а вторым – целое число, то число будет преобразовано в текст и строки объединятся.</p>
            <div  class="example"><pre>
int x=1;
print("x="+x); 
      </pre></div>
            <p >Результатом будет:</p>
            <div  class="example"><pre>
x=1 
      </pre></div>
            <p >Обратите внимание на следующий пример:</p>
            <div  class="example"><pre>
print(1+2+"text");
print("text"+1+2); 
      </pre></div>
            <p >Его результатом будет:</p>
            <div  class="example"><pre>
3text
text12 
      </pre></div>
            <p >Отдельно рассмотрим работу с типом <span class="texample">char</span>. Значения этого типа могут полноценно участвовать в числовых операциях:</p>
            <div  class="example"><pre>
char c1=10;
char c2='A';   
   // латинская буква A (\u0041, код 65)
int i=c1+c2-'B'; 
      </pre></div>
            <p >Переменная <span class="texample">i</span> получит значение <span class="texample">9</span>.</p>
            <p >Рассмотрим следующий пример:</p>
            <div  class="example"><pre>
char c='A';
print(c);
print(c+1);
print("c="+c);
print('c'+'='+с); 
      </pre></div>
            <p >Его результатом будет:</p>
            <div  class="example"><pre>
A
66
c=A
225
      </pre></div>
            <p >В первом случае в метод <span class="texample">print</span> было передано значение типа <span class="texample">char</span>, поэтому отобразился символ. Во втором случае был передан результат сложения, то есть число, и именно число появилось на экране. Далее при сложении со строкой тип <span class="texample">char</span> был преобразован в текст в виде символа. Наконец в последней строке произошло сложение трех чисел: <span class="texample">'c' (код 99), '=' (код 61)</span> и переменной c (т.е. код <span class="texample">'A' - 65</span>).</p>
            <p >Для каждого примитивного типа существуют специальные вспомогательные классы-обертки (wrapper classes). Для типов <span class="texample">byte</span>, <span class="texample">short</span>, <span class="texample">int</span>, <span class="texample">long</span>, <span class="texample">char</span> это <span class="texample">Byte</span>, <span class="texample">Short</span>, <span class="texample">Integer</span>, <span class="texample">Long</span>, <span class="texample">Character</span>. Эти классы содержат многие полезные методы для работы с целочисленными значениями. Например, преобразование из текста в число. Кроме того, есть класс <span class="texample">Math</span>, который хоть и предназначен в основном для работы с дробными числами, но также предоставляет некоторые возможности и для целых.</p>
            <p >В заключение подчеркнем, что единственные операции с целыми числами, при которых Java генерирует ошибки,– это деление на ноль (операторы <span class="texample">/</span> и <span class="texample">%</span>).</p>


    
	</td>		
	</tr>
	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2 align="center">

<a href="3.html" class="attention">Перейти к следующей странице &raquo;</b></a>

	</td></tr>
	<tr><td height="16" colspan=2><img src="../../../img/empty.gif" width="1" height="16"></td></tr>

<tr><td align="center" class="orang_light" colspan="2">
&nbsp;
<font class="rtxt">Если Вы заметили ошибку на этой странице - <a class="llecture_red" target="_blank" href="http://www.intuit.ru/help/askform.xhtml?course=57&url=http://www.intuit.ru/department/pl/javapl/4/2.html">сообщите нам.</a></font>
&nbsp;
</td></tr>

	<tr><td height="2" colspan=2><img src="../../../img/empty.gif" width="1" height="2"></td></tr>
<tr>

<td align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="1.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>

<font class="rtitle">2</font>

<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>


<a class="rtitle" href="4.html">4</a>
<font class="stitle">|</font>


<a class="rtitle" href="5.html">5</a>
<font class="stitle">|</font>


<a class="rtitle" href="http://www.intuit.ru/department/pl/javapl/4/test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="3.html"><b>&raquo;</b></a>
</td>
<td align=right><font class="stitle">|</font>
<a href="http://www.intuit.ru/department/pl/javapl/4/javapl_4.html" class="rtitle" target="_blank">HTML для печати</a>




</td>

</tr>

	<tr><td height="8" colspan=2><img src="../../../img/empty.gif" width="1" height="8"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="../../../img/empty.gif" width="1" height="1"></td></tr>
	</table>
	<!-- /content -->

</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="../../../img/empty.gif"></td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
<td width="180">
	<!-- rightcolumn -->
	<table border="0" cellpadding="2" cellspacing="0" background="" width="100%">
	<!---->


<!--Основные понятия-->
	<td class="bordo" height="24">&nbsp;&nbsp;Ключевые слова</td>
	</tr>
	<tr>
	<td><span class="rtxt"><span  class="keyword_list">boolean</span>, <span  class="keyword_list">floating-point</span>, <span  class="keyword_list_def">integer</span>, <span  class="keyword_list">примитивный тип данных</span>, <span  class="keyword_list">простой тип данных</span>, <span  class="keyword_list">ссылочный тип данных</span><br ><br ><a  class="allnews" href="../keywords.html">все ключевые слова »</a>
</td>
	</tr>
	<tr><td>&nbsp;</td></tr>
<!--/Основные понятия-->

		<tr><td class="bordo" height="24">&nbsp;&nbsp;Информация о лекции</td></tr>
	<tr>
	<td>
<span class="rtxt">Типы данных определяют основные возможности любого языка. Кроме того, Java является строго типизированным языком, а потому четкое понимание модели типов данных очень помогает в написании качественных программ. Лекция начинается с введения понятия переменной, на примере которой иллюстрируются особенности применения типов в Java. Описывается разделение всех типов на простейшие и ссылочные, операции над значениями различных типов, а также особый класс Class, который играет роль метакласса в Java.

	</td>
	</tr>
	<tr><td>&nbsp;</td></tr>

	

	
	<td class="bordo" height="24">&nbsp;&nbsp;Учебники к курсу</td>
	</tr>
	<tr>
<td>

		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td>

<table border="0" cellpadding="1" cellspacing="0"  align="left" hspace="5" vspace="2"><tr><td class="orang"><table border="0" cellpadding="2" cellspacing="0" bgcolor="#ffffff"><tr><td valign="middle" align="center"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325"><img width="72" height="105" src="../../../img/covers/i/in/int/intu006.jpg" alt="Программирование на Java" border="0"></a></td></tr></table></td></tr></table>

<a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=2459325" class="spectitle">
Программирование на Java</a>
<br>
<font class="spectxt">
Вязовик Н.А.,
<br>
Интернет-университет информационных технологий - ИНТУИТ.ру.
<br>
Курс лекций посвящен современному и мощному языку программирования Java. В его рамках дается вводное изложение принципов ООП, необходимое для разработки на Java, основы языка, библиотеки для работы с файлами, сетью, для построения оконного интерфейса пользователя (GUI) и др.

</font>
		</td>
		</tr>

		</table>

</td>
	</tr>


	<tr><td height="10"><img src="../../../img/empty.gif" width="1" height="10"></td></tr>



	<tr>
<td>
		<table border="0" cellpadding="0" cellspacing="0">


		<tr valign="top">
		<td class="spectxt">
<span class="spectitle"><a href="http://www.intuit.ru/shop/catalog/product.xhtml?id=1412049" class="spectitle">Приемы объектно-ориентированного проектирования. Паттерны проектирования</a></span>
<br>
Гамма Э. и др.,
Питер.
		</td>
		</tr>


		</table>

</td>
	</tr>


<tr>
<td><a href="http://www.intuit.ru/cgi-bin/goto.fcgi?mode=books_of_course&cid=57" class="allnews">все книги по курсу &raquo;</a></td>
</tr>



	</table>
	<!-- /rightcolumn -->
</td>
<td width="6"><img src="../../../img/empty.gif" width="6"></td>
</tr>
</table>

<!-- /bottom -->
<table border="0" cellpadding="0" cellspacing="6" width="100%" height="73">
<tr>
<td align="center" class="menu">
    <table border="0" cellpadding="0" cellspacing="0" background="">
    <tr>
    <td class="copy">
    <a href="http://www.intuit.ru/all_departments.html" class="bot">Кафедры</a> |
    <a href="http://www.intuit.ru/all_courses.html" class="bot">Все курсы</a> |
    <a href="http://www.intuit.ru/syllabus.html" class="bot">Расписание</a> |
    <a href="http://www.intuit.ru/shop/catalog/index.html?" class="bot">Учебники</a> | 
    <a href="http://www.intuit.ru/news.html" class="bot">Новости</a> | 
    <a href="http://www.intuit.ru/department/forum/" class="bot">Форум</a>
    <br>
    <a href="http://www.intuit.ru/user/classes/" class="bot">Мои курсы</a> | 
    <a href="http://www.intuit.ru/user/adjustments/" class="bot">Личные настройки</a> | 
    <a href="http://www.intuit.ru/user/cart/" class="bot">Корзина</a> | 
    <a href="http://www.intuit.ru/help/" class="bot">Помощь</a><br><br>
    Телефон: (095) 253-9312, 253-9313, факс: (095) 253-9310, email: <a href="http://www.intuit.ru/help/askform.xhtml" class="bot">info@intuit.ru</a><br>
    Адрес: 123056 Москва, Электрический пер., 8, стр. 3<br>
    &copy; 2003-2004 INTUIT.ru. Все права защищены.
    </td>
    </tr>
    </table>
</td>
</tr>
</table>
<!-- /bottom -->


</body>
</html>
